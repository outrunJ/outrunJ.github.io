<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="支撑-服务"><meta property="og:title" content="支撑-服务" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://example.com/docs/support_service/" />
<meta property="og:updated_time" content="2018-10-11T10:33:48+08:00" />
<title>支撑-服务 | outrun的笔记</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.eddc90f1d1267cb826e7cffc53c434e50061c4bfe41146a43670842ce6cb3bf6.css" integrity="sha256-7dyQ8dEmfLgm58/8U8Q05QBhxL/kEUakNnCELObLO/Y=">


<script defer src="/en.search.min.e6187ea308ea911e6b534431a6035215c80ef5b60ba93fed826389d9dcdb35ba.js" integrity="sha256-5hh&#43;owjqkR5rU0QxpgNSFcgO9bYLqT/tgmOJ2dzbNbo="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154152836-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<link rel="alternate" type="application/rss+xml" href="https://example.com/docs/support_service/index.xml" title="outrun的笔记" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://example.com/"><img src="/logo.png" alt="Logo" /><span>outrun的笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    <ul>
<li><a href="/"><strong>介绍</strong></a></li>
<li><a href="/docs/algorithm"><strong>算法</strong></a>
<ul>
<li><a href="/docs/algorithm/math">数学</a></li>
<li><a href="/docs/algorithm/thought">思想</a></li>
<li><a href="/docs/algorithm/data_structure">数据结构</a></li>
</ul>
</li>
<li><a href="/docs/design"><strong>设计</strong></a>
<ul>
<li><a href="/docs/design/drive">驱动</a></li>
<li><a href="/docs/design/biz">行业</a></li>
<li><a href="/docs/design/organize">组织</a></li>
<li><a href="/docs/design/people">人员</a></li>
<li><a href="/docs/design/project">工程</a></li>
<li><a href="/docs/design/code">代码</a></li>
</ul>
</li>
<li><a href="/docs/pl"><strong>程序语言</strong></a>
<ul>
<li><a href="/docs/pl/principle">原理</a></li>
<li><a href="/docs/pl/go">GO</a></li>
<li><a href="/docs/pl/js">JS</a></li>
<li><a href="/docs/pl/java">Java</a></li>
<li><a href="/docs/pl/python">Python</a></li>
<li><a href="/docs/pl/haskell">Haskell</a></li>
<li><a href="/docs/pl/clojure">Clojure</a></li>
<li><a href="/docs/pl/markup_language"><em><strong>标记语言</strong></em></a>
<ul>
<li><a href="/docs/pl/markup_language/html">HTML</a></li>
<li><a href="/docs/pl/markup_language/css">CSS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/function_small"><strong>小功能</strong></a>
<ul>
<li><a href="/docs/function_small/principle">原理</a></li>
<li><a href="/docs/function_small/hibernate">Hibernate</a></li>
<li><a href="/docs/function_small/nginx">Nginx</a></li>
<li><a href="/docs/function_small/nodejs">Node.js</a></li>
<li><a href="/docs/function_small/elasticsearch">Elasticsearch</a></li>
<li><a href="/docs/function_small/spring">Spring</a></li>
</ul>
</li>
<li><a href="/docs/function_big"><strong>大功能</strong></a>
<ul>
<li><a href="/docs/function_big/solution">方案</a></li>
<li><a href="/docs/function_big/javaweb">JavaWeb</a></li>
<li><a href="/docs/function_big/hadoop">Hadoop</a></li>
</ul>
</li>
<li><a href="/docs/support_service"><strong>支撑-服务</strong></a>
<ul>
<li><a href="/docs/support_service/principle">原理</a></li>
<li><a href="/docs/support_service/performance">性能</a></li>
</ul>
</li>
<li><a href="/docs/support_distributed"><strong>支撑-分布式</strong></a>
<ul>
<li><a href="/docs/support_distributed/spring_cloud">Spring Cloud</a></li>
</ul>
</li>
<li><a href="/docs/db"><strong>数据库</strong></a>
<ul>
<li><a href="/docs/db/mongodb">MongoDB</a></li>
<li><a href="/docs/db/mysql">Mysql</a></li>
<li><a href="/docs/db/oracle">Oracle</a></li>
<li><a href="/docs/db/postgre_sql">PgSQL</a></li>
<li><a href="/docs/db/redis">Redis</a></li>
</ul>
</li>
<li><a href="/docs/frontend"><strong>前端</strong></a>
<ul>
<li><a href="/docs/frontend/jquery">JQuery</a></li>
<li><a href="/docs/frontend/bootstrap">Bootstrap</a></li>
<li><a href="/docs/frontend/angular">Angular</a></li>
<li><a href="/docs/frontend/react">React</a></li>
<li><a href="/docs/frontend/threejs">Three.js</a></li>
</ul>
</li>
<li><a href="/docs/ops"><strong>运维</strong></a>
<ul>
<li><a href="/docs/ops/linux">Linux</a></li>
<li><a href="/docs/ops/tool">工具</a></li>
<li><a href="/docs/ops/security">安全</a></li>
<li><a href="/docs/ops/docker">Docker</a></li>
</ul>
</li>
<li><a href="/docs/test"><strong>测试</strong></a></li>
<li><a href="/docs/tool"><strong>图形工具</strong></a>
<ul>
<li><a href="/docs/tool/vim">Vim</a></li>
<li><a href="/docs/tool/eclipse">Eclipse</a></li>
<li><a href="/docs/tool/apple">Apple</a></li>
</ul>
</li>
<li><a href="/docs/misc"><strong>Misc</strong></a>
<ul>
<li><a href="/docs/misc/infomation">信息</a></li>
<li><a href="/docs/misc/media">媒体</a></li>
<li><a href="/docs/misc/english">英语</a></li>
<li><a href="/docs/misc/interview">题目</a></li>
</ul>
</li>
<li><a href="/docs/cache"><strong>cache</strong></a>
<ul>
<li><a href="/docs/cache/device">设备</a></li>
<li><a href="/docs/cache/app">APP</a></li>
<li><a href="/docs/cache/develop">开发</a></li>
<li><a href="/docs/cache/ops">运维</a></li>
</ul>
</li>
<li><a href="/posts"><strong>博客</strong></a></li>
<li><a href="/about_me">关于我</a></li>
</ul>





</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>支撑-服务</strong>
</header>

      
<article class="markdown"><h1 id="heading">容器服务</h1>
<h2 id="tomcat">tomcat</h2>
<pre><code>## 介绍
    tomcat从7开始默认就是nio的
## 配置
    bin/startup.bat
            set JAVA_HOME=
                            # 设置tomcat运行jdk
    context.xml
        &lt;Loader delegate=&quot;true&quot;/&gt;
                # true表示使用java加载器的代理模式
                ## false代表永远先在Web应用程序中寻找
    web.xml
        Content-Type: text/x-zim-wiki
        Wiki-Format: zim 0.4
        Creation-Date: 2013-08-04T19:40:08+08:00

        ====== web.xml文件 ======
        Created Sunday 04 August 2013

        &lt;servlet&gt;
                &lt;servlet-name&gt;
                &lt;servlet-class&gt;
                &lt;load-on-startup&gt;1
                &lt;init-param&gt;
                        &lt;param-name&gt;
                        &lt;param-value&gt;
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;
                &lt;url-pattern&gt;

        &lt;welcome-file-list&gt;
                &lt;welcome-file&gt;

        &lt;filter&gt;
                &lt;filter-name&gt;
                &lt;filter-class&gt;
                &lt;init-param&gt;
        &lt;filter-mapping&gt;
                &lt;filter-name&gt;
                &lt;url-pattern&gt;

        &lt;mime-mapping&gt;
                &lt;extension&gt;bmp
                &lt;mime-type&gt;image/bmp

        &lt;error-page&gt;
                &lt;exception-type&gt;异常类的完全限定名 /&lt;error-code&gt;错误码
                &lt;location&gt;以“/”开头的错误处理页面路径

## 启动顺序
    web.xml中配置的启动顺序
            监听器
            过滤器
            servlet
                    load-on-startup属性值越小越先启动

    tomcat的加载过程：        # 分析启动日志得到
            启动http协议
            启动catalina
            启动servlet引擎
            加载xml配置文件
            初始化日志配置
            初始化ContextListener
            初始化SessionListener
            部署web项目
                    spring监听器，加载xml配置(开始spring自己的日志记录)
                            实例化bean
                                    初始化c3p0连接池的记录显示
                                    初始化LocalSessionFactoryBean的记录显示
                    application监听器(监听器按配置顺序启动)
                    struts过滤器，加载xml配置(开始struts自己的日志记录)
                            struts-default.xml
                                    根据其中配置的bean属性加载类，并记录了日志
                            struts-plugin.xml                # 里面有加载spring-struts-plugin包
                                    初始化struts-spring 集成
                            struts.xml
## 目录
    LICENSE
    NOTICE
    RELEASE-NOTES
    RUNNING.txt
    bin
            bootstrap.jar
            commons-daemon.jar
            tomcat-juli.jar
            tomcat-native.tar.gz
            commons-daemon-native.tar.gz
            catalina.bat
            shutdown.bat
            startup.bat
            cpappend.bat
            digest.bat
            setclasspath.bat
            tool-wrapper.bat
            version.bat
            catalina.sh
            shutdown.sh
            startup.sh
            digest.sh
            setclasspath.sh
            tool-wrapper.sh
            version.sh
            catalina-tasks.xml
    conf
            catalina.policy
            catalina.properties
            logging.properties
            context.xml
            server.xml
            tomcat-users.xml
            web.xml
            Catalina
                    localhost
                            host-manager.xml
                            manager.xml
    lib
            annotations-api.jar
            catalina.jar
            catalina-ant.jar
            catalina-ha.jar
            catalina-tribes.jar
            el-api.jar
            jasper.jar
            jasper-el.jar
            jasper-jdt.jar
            jsp-api.jar
            servlet-api.jar
            tomcat-coyote.jar
            tomcat-dbcp.jar
            tomcat-i18n-es.jar
            tomcat-i18n-fr.jar
            tomcat-i18n-ja.jar
    log
            catalina.2013-07-28.log等等
    webapps
            ROOT
                    WEB-INF
                            web.xml
            docs
            examples
            manager
            host-manager
    tmp
    work

    发布
            conf/server.xml 中8080端口 位置
            &lt;Context path=&quot;/bbs&quot; reloadable=&quot;true&quot; docBase=&quot;E:\workspace\bbs&quot; workDir=&quot;E:\workspace\bbs\work&quot; /&gt;

    发布war文件：
            localhost:8080 -&gt; tomcat manager -&gt; WAR file to deploy
</code></pre>
<h2 id="netty">netty</h2>
<pre><code>介绍
    JBOSS提供，由Trustin Lee开发，比mina晚
    java开源框架
对比java nio
    java原生nio有bug(epoll bug)且编写困难, 网络可靠性自己处理
    netty设计优雅，使用方便，高性能、稳定
原理
    基于socket的数据流处理
        # socket数据流不是a queue of packets , 而是a queue of bytes, 所以分次传输的数据会成为a bunch of bytes
例子
    Handler
        ChannelHandler
            ChannelOutboundHandler
                    ChannelOutboundHandlerAdapter                        # 可作Encoder
                    MessageToByteEncoder
            ChannelInboundHandler                # 提供可重写的事件
                    ChannelInboundHandlerAdapter
                    ByteToMessageDecoder        # easy to deal with fragmentation issue
                            事件
                                    decode(ctx, in, out)                        # 内部处理过数据，堆积到了buffer(in)
                                                                            ## out中add了数据, 表示decode成功，则执行后抛弃in中数据
                                                                            # decode会被循环调用直到有一次out中没有add东西
                    ReplayingDecoder
                    事件
                            channelRead()                # 从client接收到数据时调用，数据的类型是ByteBuf
                                                    ## ByteBuf是 reference-counted object
                                                    ## 必须用ReferenceCountUtil.release(msg)或((ByteBuf) msg).release()来明确释放
                            exceptionCaught()        # 当抛出Throwable对象时调用
                            channelActive()                # as soon as a connection is established
            方法
                    handlerAdded()
                    handlerRemoved()
        ByteBuf
            方法
                    buf.writeBytes(m)                # 将m[ByteBuf]中的数据 cumulate into buf[ 定长的ByteBuf, 如ctx.alloc().buffer(4) ]
                    isReadable()                        # 返回ByteBuf中data的长度
        ChannelHandlerContext                # 用于触发一些i/o事件
            方法
                    write(msg)                # msg在flush后自动realease
                            write(msg, promise)                                # promise是ChannelPromise的对象，用来标记msg是否确切地写入到管道中
                    flush()
                    writeAndFlush(msg)                                        # 返回ChannelFuture
                    alloc()                                                        # 分配缓冲区来包含数据
        ByteBufAllocator
            buffer(4)                        # 返回存放32-bit Integer的ByteBuf
    Server
        EventLoopGroup
            NioEventLoopGroup                # 多线程 i/o eventloop
            方法
                    shutdownGracefully()                                                # 返回Funture类来通知group是否完全关闭并且所有group的channels都关闭
        ServerBootstrap                        # 建server的帮助类，链式编程
                                            ## 可以直接用Channel来建server
            方法
                group(bossGroup, workerGroup)                                # boss接收连接，worker处理boss中的连接
                        group(workerGroup)                                        # 只有一个参数时，该group即作boss也作worker
                channel(NioServerSocketChannel.class)                        # 用来接收连接的channel的类型
                        channel(NioSocketChannel.class)                        # create client-side channel
                childHandler(channelInitializer)                                # 新接收的channel总执行本handler
                                                                                ## 只有workerGroup时不用
                option(ChannelOption.SO_BACKLOG, 128)                        # channel实现的参数
                childOption(channelOption.SO_KEEPALIVE, true)                # option设置boss, childOption设置worker
                                                                                ## 在只有workerGroup时不用childOption,因为它没有parent
                bind(port)                                                        # 开始接收连接，返回的是ChannelFuture
                                                                                    ## 绑定网卡上的所有port端口，可以bind多次到不同的端口
        ChannelInitializer                        # 帮助设置channel, 如设置channel的pipeline中的handler
            实例
                new　ChannelInitializer&lt;SocketChannel&gt;(){
                        @Override
                        public void initChannel(SocketChannel ch) throws Exception{
                                ch.pipeline().addLast(new DiyHandler());
                        }
                }
        ChannelFuture
            方法
                sync()
                channel()                                                        # 返回Channel
                addListener(channelFutureListener)
        Channel
                closeFuture()                                                        # 返回ChannelFuture
        ChannelFutureListener
            实例
                new ChannelFutureListener(){
                    // 当请求结束时通知
                    @Override
                    public void operationComplete(ChannelFuture future){
                        assert f == future;
                        ctx.close();
                    }
                }
    client
        Bootstrap                        # for non-server channels such as a client-side or connectionless channel
            connect(host, port)
</code></pre>
<h2 id="netty-tcnative">netty-tcnative</h2>
<pre><code>介绍
        tomcat native 的分支
特点
        简化本地库的分配和连接
        可以maven配置dependency
        提供openssl的支持
</code></pre>
<h2 id="jetty">jetty</h2>
<pre><code># 是开源的servlet容器，基于java, 可以给jsp和servlet提供运行环境
# jetty容器可以实例化成一个对象，迅速为一些独立运行(stand-alone)的java应用提供网络和web连接
</code></pre>
<h2 id="apache">apache</h2>
<pre><code># http容器，可容纳php, python。一请求一线程
安装
    pacman -S apache
    mkdir /srv/http
    chown http:http /srv/http
编译安装
    ./configure
        --prefix=/全路径/install_path
        --with-apxs2=/全路径/apxs            # 模块
    make
    make install
命令
    httpd
        -f                                  # 指定配置
        -t                                  # 配置检查
        -k
            start
            restart
            graceful
            stop
            graceful-stop
    apachectl
        graceful                            # 重载配置
        -f /全路径/httpd.conf                # 指定配置
        -t                                  # 配置检查
配置
    /etc/httpd/conf/httpd.conf
        DocumentRoot &quot;/srv/http&quot;            # 项目路径
        Listen                              # 端口
案例
    php
        docker解决
</code></pre>
<h2 id="lighttpd">lighttpd</h2>
<h2 id="meteor">meteor</h2>
<pre><code># 包装node
</code></pre>
<h2 id="ringojs">ringojs</h2>
<pre><code># jvm上commonJs规范的服务器
</code></pre>
<h2 id="mina">mina</h2>
<pre><code>apache提供， 由Trustin Lee开发，比netty更早
</code></pre>
<h2 id="tomcat-native">tomcat native</h2>
<pre><code># 基于apr(apache portable runtime)技术，让tomcat在操作系统级别的交互上做的更好
</code></pre>
<h2 id="tinyhttpd">tinyHttpd</h2>
<h2 id="resin">resin</h2>
<pre><code># 收费, 类似tomcat的java容器，性能提升
</code></pre>
<h2 id="uwsgi">uwsgi</h2>
<pre><code># 一个web服务器，实现了wsgi, uwsgi, http等协议
</code></pre>
<h2 id="weblogic">weblogic</h2>
<pre><code># oracle
</code></pre>
<h2 id="was">was</h2>
<pre><code># ibm服务器
</code></pre>
<h2 id="gunicon">gunicon</h2>
<pre><code># python wsgi http server
</code></pre>
<h2 id="nodejs">node.js</h2>
<h1 id="heading-1">通信服务</h1>
<h2 id="log">log</h2>
<h3 id="elk">elk</h3>
<pre><code>        # elasticsearch, logstash, kibana
</code></pre>
<h3 id="logio">log.io</h3>
<h2 id="mq">mq</h2>
<pre><code>消息重发
    状态表记录消息状态
</code></pre>
<h3 id="pulsar">pulsar</h3>
<pre><code># 雅虎开源, 存储和服务分离，高可用存储, 支持流
</code></pre>
<h3 id="rabbitmq">rabbitMQ</h3>
<pre><code>介绍
    erlang开发, 重量级
    支持协议多，AMQP、XMPP、SMTP、STOMP
    Broker构架        # 消息在中心队列排队
install
        yum install rabbitmq-server
命令
        添加用户:
                rabbitmqctl add_user rainbird password
        添加权限:
                rabbitmqctl set_permissions -p &quot;/&quot; rainbird &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;
        删除测试用户:
                rabbitmqctl delete_user guest
原理
    虚拟主机 virtual host: 用户通过虚拟主机进行权限控制(如禁止A组访问B组的交换机)
            ＃ 默认虚拟主机为&quot;/&quot;
            队列 queue: 由生产者(producers)通过程序建立，再通过消费者(consuming)连接取走
                    消息:
                            路由键 routing key
            交换机 exchange: 负责把消息放入队列
                    绑定 binding(路由规则): 如指明交换机中具有路由键&quot;X&quot;的消息要到名为&quot;Y&quot;的队列中去
                            # 如果同一个键对应多个队列，则复制后分别发送

    功能
            持久化
                    队列和交换机创建时指定标志durable,指定队列和交换机重启生重建
                            ＃ 如果绑定了durable的队列和durable的交换机，该绑定自动保留
                            ＃ non-durable的交换机与durable的队列不能绑定
                            ＃ 一但创建durable标志，不能修改
                    消息发布到交换机时，指定标志Delivery Mode=2,这样消息会持久化
使用(原文http://adamlu.net/rabbitmq/tutorial-one-python)
        安装python 与插件支持
                pip
                python-pip git
                python-pika
        rabbitmq-server start
        send.py
            #!/usr/bin/env python
            import pika

            connection = pika.BlockingConnection(pika.ConnectionParameters(
                    host='localhost'))
            channel = connection.channel()

            channel.queue_declare(queue='hello')

            channel.basic_publish(exchange='',
                                routing_key='hello',
                                body='Hello World!')
            print &quot; [x] Sent 'Hello World!'&quot;
            connection.close()
                    receive.py
                            #!/usr/bin/env python
            import pika

            connection = pika.BlockingConnection(pika.ConnectionParameters(
                    host='localhost'))
            channel = connection.channel()

            channel.queue_declare(queue='hello')

            print ' [*] Waiting for messages. To exit press CTRL+C'

            def callback(ch, method, properties, body):
                print &quot; [x] Received %r&quot; % (body,)

            channel.basic_consume(callback,
                                queue='hello',
                                no_ack=True)

            channel.start_consuming()
</code></pre>
<h3 id="jafka">jafka</h3>
<pre><code>介绍
    基于kafka, 快速持久化(O(1)时间开销)
    高吞吐，一台普通服务器 100k/s
    完全分布式，Broker, Producer, Consumer原生支持分布式，自动负载均衡
    支持hadoop并行加载
</code></pre>
<h3 id="kafka">kafka</h3>
<pre><code>介绍
    apache子项目，scala语言编写, 发布订阅队列
    相对activeMQ轻量
特点
    push/pull队列架构，适合异构集群
    分布式, 高吞吐率, 易扩展
    支持数据并行到hadoop
    分区有序
    批量压缩, 零拷贝, 内存缓冲, 磁盘顺序写入
    可持久化
工具
    manager # 监控
</code></pre>
<h3 id="nsq">nsq</h3>
<pre><code>介绍
    go
工具
    admin   # 监控
</code></pre>
<h3 id="memcacheq">memcacheQ</h3>
<h3 id="zeromq">zeroMQ</h3>
<h3 id="activemq">activeMQ</h3>
<pre><code>介绍
    apache子项目, 类似zeroMQ
通信方式
    点到点
        不成功时保存在服务端
    发布订阅
        不成功消息丢失
</code></pre>
<h3 id="beanstalkd">beanstalkd</h3>
<h3 id="mqtt">mqtt</h3>
<pre><code># 最早由ibm提供的，二进制消息的mq
</code></pre>
<h3 id="emqttd">emqttd</h3>
<pre><code>介绍
    mqtt broker
</code></pre>
<h3 id="apollo">apollo</h3>
<pre><code>介绍
    apache mqtt broker
</code></pre>
<h3 id="metaq">metaq</h3>
<pre><code># 阿里mq
</code></pre>
<h2 id="heading-2">任务</h2>
<h3 id="quartz">quartz</h3>
<pre><code># java作业调度
配置applicationContext_job.xml
    job             # 任务内容
    jobDetail       # 调度方案
    trigger         # 时间
    scheduler       # jobDetail和trigger的容器
状态监控
    # 用日志表记录
    运行中
        JobListener监听器
    暂停中
        scheduler.pauseTrigger()
    等待中
        创建job时
</code></pre>
<h3 id="celery">celery</h3>
<pre><code># python
</code></pre>
<h3 id="rundeck">rundeck</h3>
<pre><code># java
</code></pre>
<h1 id="heading-3">存储服务</h1>
<pre><code>存储的概念和术语
    scsi: 小型计算机系统接口(Small Computer System Interface)
    fc: 光纤通道(Fibre channel)
    das: 直连式存储(Direct-Attached Storage)
    nas: 网络接入存储(Network-Attached Storage)
    san: 存储区域网络(Storage Area Network)
        连接设备: 路由,  光纤交换机, 集线器(hub)
        接口: scsi fc
        通信协议: ip scsi
</code></pre>
<h2 id="iscsi">iscsi</h2>
<pre><code># internet scsi
优点
    可以网络传输
    服务器数量无限
    在线扩容．动态部署
架构
    控制器架构: 专用数据传输芯片．专用RAID数据校验芯片．专用高性能cache缓存和专用嵌入式系统平台
    iscsi连接桥架构:
        前端协议转换设备(硬件)
        后端存储(scsi磁盘阵列．fc存储设备)
    pc架构
        存储设备搭建在pc服务器上，通过软件管理成iscsi, 通过网卡传输数据
        实现
            以太网卡 + initiator软件
            toe网卡 + initiator软件
            iscsi HBA卡
iscsi系统组成
    iscsi initiator 或　iscsi hba
    iscsi target
    以太网交换机
    一台或多台服务器
</code></pre>
<h2 id="fastdfs">fastdfs</h2>
<pre><code># 开源分布式文件系统
</code></pre>
<h2 id="cdn">cdn</h2>
<pre><code>介绍
    流量不大时带宽比cdn便宜, 流量大时cdn便宜。
    界限为250Mbps左右，价格在9k/month
价格     50TB/月        100TB/月
阿里云   3.8w/月        6.9w/月
盛大云   9k/月          1.7w/月
网宿
蓝汛
</code></pre>
<h2 id="aws">aws服务器</h2>
<pre><code>命令
    aws
        s3
            cp --recursive bin s3://meiqia/crm-module/search/bin
                # 级联复制
            sync s3://meiqia/crm-module/search/bin bin
                # 下载
            rm --recursive s3://meiqia/crm-module/search
                # 级联删除</code></pre>
</article>

      <div class="book-footer justify-between">
  

  
  
  <div>
    
    <a class="flex align-center" href="https://github.com/outrunJ/hugo-blog/commit/bb518fda779fa027ef720b5d806c6d229daf7420" title='Last modified by shenwenqing | May 13, 2020' target="_blank">
      <img src="/svg/calendar.svg" alt="Calendar" />
      <span>May 13, 2020</span>
    </a>
  </div>
  
  

  
  <div>
    <a class="flex align-center" href="https://github.com/outrunJ/hugo-blog/tree/master/content/docs/support_service/_index.md" target="_blank">
      <img src="/svg/edit.svg" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>
  

</div>

      
    </div>

    
  

  <aside class="book-toc levels-6 fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#heading">容器服务</a>
      <ul>
        <li><a href="#tomcat">tomcat</a></li>
        <li><a href="#netty">netty</a></li>
        <li><a href="#netty-tcnative">netty-tcnative</a></li>
        <li><a href="#jetty">jetty</a></li>
        <li><a href="#apache">apache</a></li>
        <li><a href="#lighttpd">lighttpd</a></li>
        <li><a href="#meteor">meteor</a></li>
        <li><a href="#ringojs">ringojs</a></li>
        <li><a href="#mina">mina</a></li>
        <li><a href="#tomcat-native">tomcat native</a></li>
        <li><a href="#tinyhttpd">tinyHttpd</a></li>
        <li><a href="#resin">resin</a></li>
        <li><a href="#uwsgi">uwsgi</a></li>
        <li><a href="#weblogic">weblogic</a></li>
        <li><a href="#was">was</a></li>
        <li><a href="#gunicon">gunicon</a></li>
        <li><a href="#nodejs">node.js</a></li>
      </ul>
    </li>
    <li><a href="#heading-1">通信服务</a>
      <ul>
        <li><a href="#log">log</a>
          <ul>
            <li><a href="#elk">elk</a></li>
            <li><a href="#logio">log.io</a></li>
          </ul>
        </li>
        <li><a href="#mq">mq</a>
          <ul>
            <li><a href="#pulsar">pulsar</a></li>
            <li><a href="#rabbitmq">rabbitMQ</a></li>
            <li><a href="#jafka">jafka</a></li>
            <li><a href="#kafka">kafka</a></li>
            <li><a href="#nsq">nsq</a></li>
            <li><a href="#memcacheq">memcacheQ</a></li>
            <li><a href="#zeromq">zeroMQ</a></li>
            <li><a href="#activemq">activeMQ</a></li>
            <li><a href="#beanstalkd">beanstalkd</a></li>
            <li><a href="#mqtt">mqtt</a></li>
            <li><a href="#emqttd">emqttd</a></li>
            <li><a href="#apollo">apollo</a></li>
            <li><a href="#metaq">metaq</a></li>
          </ul>
        </li>
        <li><a href="#heading-2">任务</a>
          <ul>
            <li><a href="#quartz">quartz</a></li>
            <li><a href="#celery">celery</a></li>
            <li><a href="#rundeck">rundeck</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#heading-3">存储服务</a>
      <ul>
        <li><a href="#iscsi">iscsi</a></li>
        <li><a href="#fastdfs">fastdfs</a></li>
        <li><a href="#cdn">cdn</a></li>
        <li><a href="#aws">aws服务器</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
