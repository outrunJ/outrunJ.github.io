<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="环境 #  scp eureka-server-1.0-SNAPSHOT.jar shenwq@36.137.165.51:~  源 #  163: http://mirrors.163.com/ 阿里云mirror: https://developer.aliyun.com/mirror ubuntu sed -i s@/archive.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list 阿里云maven: https://maven.aliyun.com/mvn/view 阿里云个人docker 入口: cr.console.aliyun.com docker login -u 934260428@qq.com registry.cn-qingdao.aliyuncs.com docker tag java/device:1.0 registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0 docker push registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0 docker pull registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0  分析 #  nmon pidstat -p 434 -u 1 # CPU -r 1 # 内存 -d 1 # 磁盘 -w # 上下文切换 iftop -n # 网络流量 iotop p # 显示pid o # 只显示活跃  java #  -Dserver.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="环境 #  scp eureka-server-1.0-SNAPSHOT.jar shenwq@36.137.165.51:~  源 #  163: http://mirrors.163.com/ 阿里云mirror: https://developer.aliyun.com/mirror ubuntu sed -i s@/archive.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list 阿里云maven: https://maven.aliyun.com/mvn/view 阿里云个人docker 入口: cr.console.aliyun.com docker login -u 934260428@qq.com registry.cn-qingdao.aliyuncs.com docker tag java/device:1.0 registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0 docker push registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0 docker pull registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0  分析 #  nmon pidstat -p 434 -u 1 # CPU -r 1 # 内存 -d 1 # 磁盘 -w # 上下文切换 iftop -n # 网络流量 iotop p # 显示pid o # 只显示活跃  java #  -Dserver." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/docs/cache/ops/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2021-09-20T17:46:29&#43;08:00" />

<title>Ops | outrun的笔记</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.eddc90f1d1267cb826e7cffc53c434e50061c4bfe41146a43670842ce6cb3bf6.css" integrity="sha256-7dyQ8dEmfLgm58/8U8Q05QBhxL/kEUakNnCELObLO/Y=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.dc45ca1d9e2588f08ff69642ba68906aadd5e91f47b7f7f3af989ab6bdd4c61b.js" integrity="sha256-3EXKHZ4liPCP9pZCumiQaq3V6R9Ht/fzr5iatr3Uxhs=" crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154152836-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <script data-ad-client="ca-pub-6239994681364905" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.png" alt="Logo" /><span>outrun的笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  <ul>
<li><a href="/"><strong>介绍</strong></a></li>
<li><a href="/docs/design"><strong>设计</strong></a>
<ul>
<li><a href="/docs/design/drive">驱动</a></li>
<li><a href="/docs/design/biz">行业</a></li>
<li><a href="/docs/design/organize">组织</a></li>
<li><a href="/docs/design/people">人员</a></li>
<li><a href="/docs/design/project">工程</a></li>
<li><a href="/docs/design/code">代码</a></li>
<li><a href="/docs/design/design_mode">Java设计模式</a></li>
</ul>
</li>
<li><a href="/docs/algorithm"><strong>算法</strong></a>
<ul>
<li><a href="/docs/algorithm/math">数学</a></li>
<li><a href="/docs/algorithm/thought">思想</a></li>
<li><a href="/docs/algorithm/data_structure">数据结构</a></li>
</ul>
</li>
<li><a href="/docs/computer"><strong>计算机</strong></a>
<ul>
<li><a href="/docs/computer/principle">原理</a></li>
<li><a href="/docs/computer/performance">性能</a></li>
<li><a href="/docs/computer/linux"><strong><strong>Linux</strong></strong></a>
<ul>
<li><a href="/docs/computer/linux/linux_tool">Linux工具</a></li>
</ul>
</li>
<li><a href="/docs/computer/tool"><strong><strong>图形工具</strong></strong></a>
<ul>
<li><a href="/docs/computer/tool/vim">Vim</a></li>
<li><a href="/docs/computer/tool/eclipse">Eclipse</a></li>
<li><a href="/docs/computer/tool/apple">Apple</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/pl"><strong>程序语言</strong></a>
<ul>
<li><a href="/docs/pl/principle">原理</a></li>
<li><a href="/docs/pl/java"><strong><strong>Java</strong></strong></a>
<ul>
<li><a href="/docs/pl/java/jvm">JVM</a></li>
<li><a href="/docs/pl/java/collection">Java Collection</a></li>
<li><a href="/docs/pl/java/juc">Java Concurrent</a></li>
<li><a href="/docs/pl/java/spring">Spring</a></li>
<li><a href="/docs/pl/java/rxjava">RxJava</a></li>
</ul>
</li>
<li><a href="/docs/pl/go">GO</a></li>
<li><a href="/docs/pl/js">JS</a></li>
<li><a href="/docs/pl/python">Python</a></li>
<li><a href="/docs/pl/haskell">Haskell</a></li>
<li><a href="/docs/pl/clojure">Clojure</a></li>
<li><a href="/docs/pl/markup_language"><strong><strong>标记语言</strong></strong></a>
<ul>
<li><a href="/docs/pl/markup_language/html">HTML</a></li>
<li><a href="/docs/pl/markup_language/css">CSS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/middleware"><strong>中间件</strong></a>
<ul>
<li><a href="/docs/middleware/nginx">Nginx</a></li>
<li><a href="/docs/middleware/nodejs">Node.js</a></li>
<li><a href="/docs/middleware/library"><strong><strong>库</strong></strong></a>
<ul>
<li><a href="/docs/middleware/library/hibernate">Hibernate</a></li>
</ul>
</li>
<li><a href="/docs/middleware/distributed"><strong><strong>分布式</strong></strong></a>
<ul>
<li><a href="/docs/middleware/distributed/spring_cloud">Spring Cloud</a></li>
</ul>
</li>
<li><a href="/docs/middleware/library_frontend"><strong><strong>前端库</strong></strong></a>
<ul>
<li><a href="/docs/middleware/library_frontend/jquery">JQuery</a></li>
<li><a href="/docs/middleware/library_frontend/bootstrap">Bootstrap</a></li>
<li><a href="/docs/middleware/library_frontend/angular">Angular</a></li>
<li><a href="/docs/middleware/library_frontend/react">React</a></li>
<li><a href="/docs/middleware/library_frontend/threejs">Three.js</a></li>
</ul>
</li>
<li><a href="/docs/middleware/big_data"><strong><strong>大数据</strong></strong></a>
<ul>
<li><a href="/docs/middleware/big_data/hadoop">Hadoop</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/db"><strong>数据库</strong></a>
<ul>
<li><a href="/docs/db/mongodb">MongoDB</a></li>
<li><a href="/docs/db/mysql">Mysql</a></li>
<li><a href="/docs/db/oracle">Oracle</a></li>
<li><a href="/docs/db/postgresql">PgSQL</a></li>
<li><a href="/docs/db/redis">Redis</a></li>
<li><a href="/docs/db/elasticsearch">Elasticsearch</a></li>
</ul>
</li>
<li><a href="/docs/function_big"><strong>功能</strong></a>
<ul>
<li><a href="/docs/function/small_function">小功能</a></li>
<li><a href="/docs/function_big/solution">方案</a></li>
<li><a href="/docs/function_big/javaweb">JavaWeb</a></li>
</ul>
</li>
<li><a href="/docs/ops"><strong>运维</strong></a>
<ul>
<li><a href="/docs/ops/monitor">监控</a></li>
<li><a href="/docs/ops/security">安全</a></li>
<li><a href="/docs/ops/docker">Docker</a></li>
<li><a href="/docs/ops/test"><strong><strong>测试</strong></strong></a>
<ul>
<li><a href="/docs/ops/test/debug">调试</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/cache"><strong>Cache</strong></a>
<ul>
<li><a href="/docs/cache/ops">运维</a></li>
<li><a href="/docs/cache/develop">开发</a></li>
<li><a href="/docs/cache/template"><strong><strong>模板配置</strong></strong></a>
<ul>
<li><a href="/docs/cache/template/docker">docker</a></li>
<li><a href="/docs/cache/template/linux">linux</a></li>
<li><a href="/docs/cache/template/awesome">awesome</a></li>
<li><a href="/docs/cache/template/script">script</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/misc"><strong>Misc</strong></a>
<ul>
<li><a href="/docs/misc/infomation">信息</a></li>
<li><a href="/docs/misc/media">媒体</a></li>
<li><a href="/docs/misc/english">英语</a></li>
<li><a href="/docs/misc/interview">题目</a></li>
<li><a href="/docs/misc/book">书</a></li>
</ul>
</li>
<li><a href="/posts"><strong>Posts</strong></a>
<ul>
<li><a href="/about_me">关于我</a></li>
</ul>
</li>
</ul>










</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Ops</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#环境">环境</a></li>
    <li><a href="#源">源</a></li>
    <li><a href="#分析">分析</a></li>
    <li><a href="#java">java</a></li>
    <li><a href="#go">go</a></li>
    <li><a href="#linux日志">linux日志</a></li>
    <li><a href="#网络">网络</a></li>
    <li><a href="#命令">命令</a></li>
    <li><a href="#docker">docker</a></li>
    <li><a href="#kubenetes">kubenetes</a>
      <ul>
        <li><a href="#minikube">minikube</a></li>
        <li><a href="#kubeadm">kubeadm</a></li>
        <li><a href="#kubectl">kubectl</a></li>
        <li><a href="#chrome">chrome</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="环境">
  环境
  <a class="anchor" href="#%e7%8e%af%e5%a2%83">#</a>
</h1>
<pre><code>scp eureka-server-1.0-SNAPSHOT.jar shenwq@36.137.165.51:~
</code></pre>
<h1 id="源">
  源
  <a class="anchor" href="#%e6%ba%90">#</a>
</h1>
<pre><code>163: http://mirrors.163.com/
阿里云mirror: https://developer.aliyun.com/mirror
    ubuntu
        sed -i s@/archive.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list 
阿里云maven: https://maven.aliyun.com/mvn/view
阿里云个人docker
    入口: cr.console.aliyun.com
        docker login -u 934260428@qq.com registry.cn-qingdao.aliyuncs.com
        docker tag java/device:1.0 registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0
        docker push registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0
        docker pull registry.cn-qingdao.aliyuncs.com/mrs-iot/device:1.0
</code></pre>
<h1 id="分析">
  分析
  <a class="anchor" href="#%e5%88%86%e6%9e%90">#</a>
</h1>
<pre><code>nmon
pidstat -p 434
    -u 1        # CPU
    -r 1        # 内存
    -d 1        # 磁盘
    -w          # 上下文切换
iftop -n
    # 网络流量
iotop
    p   # 显示pid
    o   # 只显示活跃
</code></pre>
<h1 id="java">
  java
  <a class="anchor" href="#java">#</a>
</h1>
<pre><code>-Dserver.port=18001
-Deureka.client.serviceUrl.defaultZone=http://localhost:19090/eureka
-javaagent:/opt/svc/apache-skywalking-apm-bin/agent/skywalking-agent.jar
-Dspring.profiles.active=prod
-Dlogging.config=classpath:logback-spring-prod.xml
</code></pre>
<h1 id="go">
  go
  <a class="anchor" href="#go">#</a>
</h1>
<pre><code>go env -w GOPROXY=https://goproxy.cn,direct
go list -m -u all 来检查可以升级的package，使用go get -u need-upgrade-package 升级后会将新的依赖版本
</code></pre>
<h1 id="linux日志">
  linux日志
  <a class="anchor" href="#linux%e6%97%a5%e5%bf%97">#</a>
</h1>
<pre><code>dmesg
journalctl
    -x
        # 显示解释
    -e
        # 显示到底部
    -u
        # 指定unit名, 如kubelet
    --no-pager
        # 不输出到管道来分页
    -f
        # 追加显示
    -q
        # 只显示warn以上信息
    --user-unit
        # 指定用户
    --since &quot;2018-03-26&quot; 
    --until &quot;2018-03-26 03:00&quot;

journalctl -f --user-unit onedrive
journalctl -xeu kubelet --no-pager

快捷键
    ctrl alt f1/f2/...
</code></pre>
<h1 id="网络">
  网络
  <a class="anchor" href="#%e7%bd%91%e7%bb%9c">#</a>
</h1>
<pre><code>ifconfig docker0 down
    ifconfig docker0 up
tcpdump -n tcp port 8383 -i lo and src host 183.14.132.117
    -w 文件         # 文件会记录详细包
    -c 条数
    -n              # 不转端口成name
    -i 网卡
    -vvv            # 最详细输出
</code></pre>
<h1 id="命令">
  命令
  <a class="anchor" href="#%e5%91%bd%e4%bb%a4">#</a>
</h1>
<pre><code>envsubst '${THREAD_NUM}' &lt; decoder.conf.template &gt; decoder.conf
grep
    -v grep         # 过滤掉grep

    grep -nr --exclude-dir={.git, res, bin} 'a' .
        # 递归查找
xargs
    -d &quot;\t&quot;         # 定义分隔符
    -t              # -t打印执行的命令
    -L 1            # 1行执行一次
    -n 1            # 一次使用1项
    -I arg1 sh -c 'echo arg1; mkdir arg1'       
        # 执行多命令
    --max-procs 0   # 并行执行，不限数量
awk
    awk '{print $1}'
sed
    sed -i '1i\new line'
        # 第一行前插入
nmap
    nmap 192.168.100.1/24 -p1-65535
onedrive
    systemctl --user enable onedrive
    systemctl --user start onedrive
    journalctl --user-unit onedrive -f

    onedrive --resync
su
    切换登录
        sudo -i su outrun
simplehttp
    python -m SimpleHTTPServer 8080
diff        # 改变以匹配第二个文件
    diff -y a b
    diff dir1 dir2

    diff -uN a b &gt; b.patch
    patch -p0 &lt; b.patch
    patch -RE -p0 &lt; b.patch

    diff -uNra a b &gt; b.patch
    cd a
    patch -p1  &lt; ../b.patch
    patch -RE -p1 &lt; ../b.patch
vimdiff a b
rsync
后台
    fg
    bg
    nohup
        nohup *** &gt; /dev/null 2&gt;&amp;1 &amp; 
    ^z
    ^c
    &amp;
    jobs
组合
    kill进程
        ps -ef|grep -v &quot;grep&quot;|grep aurora/app.js |awk '{print $2}'| xargs kill -9
    复制多个
        ls -rt | tail -4 | xargs -i cp -r {} ~/sdb/work/ryxWork/架构/
    替换文本
        sed -i &quot;s/a/b/g&quot; `grep -rl &quot;a&quot; ./`
    代码行数
        find -name &quot;*.go&quot; -or -name &quot;*.py&quot; |xargs grep -v &quot;^$&quot; |wc -l
    unzip中转码
        unzip -P “$(echo 中文 | iconv -f utf-8 -t gbk)”
    爬网站
        wget -x -P curSite -r -l 100 -k -L -np http://nodeapi.ucdok.com/api/
        带cookie
            wget --post-data=&quot;username=u1&amp;password=asdf&quot; --save-cookies=cookie --keep-session-cookies &quot;http://www.abc.com/logging.php&quot;
            wget -x -P curSite -r -l 1 -k -L -np --load-cookies=cookie --keep-session-cookies &quot;https://www.abc.com/display/1&quot;
</code></pre>
<h1 id="docker">
  docker
  <a class="anchor" href="#docker">#</a>
</h1>
<pre><code>目录
    /var/lib/docker
配置
    systemctl daemon-reload
    systemctl restart
    docker login -u outrun -p asdf
registry
    docker login -u outrun -p asdf registry:5000
    curl --user outrun:asdf -X GET  registry:5000/v2/_catalog
        # 列表
    curl --user outrun:asdf -X GET  registry:5000/v2/ubuntu/tags/list
        # tags
    curl --user outrun:asdf -X GET  registry:5000/v2/ubuntu/manifests/latest
        # tag
    curl --user outrun:asdf -X GET -v --silent -H &quot;Accept: application/vnd.docker.distribution.manifest.v2+json&quot; registry:5000/v2/ubuntu/manifests/latest 2&gt;&amp;1 | grep Docker-Content-Digest | awk '{print ($3)}'
        # digest
    curl --user outrun:asdf -X DELETE -v --silent -H &quot;Accept: application/vnd.docker.distribution.manifest.v2+json&quot; registry:5000/v2/ubuntu/manifests/sha256:134c7fe821b9d359490cd009ce7ca322453f4f2d018623f849e580a89a685e5d
        # 删除
    docker exec -it 4ebff4cdc646 /bin/registry garbage-collect  /etc/docker/registry/config.yml
        # 删除后, 运行垃圾回收
镜像
    镜像文档: https://hub.docker.com/r/ivdata/snapserver/
    docker build -t java/gateway:1.0 .
    docker images
    docker image inspect 4de
    docker images|grep none|awk '{print $3}'|xargs docker rmi -f
        # 删除none镜像

    docker save -o a.tar.gz a
    docker load &lt; a.tar.gz
        --input a.tar.gz
容器
    docker
        run
            --user root
            --name a
            --privileged
            -v
    docker status 45370         # 显示资源占用
    docker inspect 45370        # 详情

    docker run --name gateway --rm -d java/gateway:1.0
    docker run -it ubuntu

    docker exec -it -u root ef2 /bin/bash
    docker restart ef2
    docker logs -f -t ef2
system
    docker system prune -a
</code></pre>
<h1 id="kubenetes">
  kubenetes
  <a class="anchor" href="#kubenetes">#</a>
</h1>
<h2 id="minikube">
  minikube
  <a class="anchor" href="#minikube">#</a>
</h2>
<pre><code>docker login --username=934260428@qq.com registry.cn-hangzhou.aliyuncs.com
命令
    minikube
        start --vm-driver=virtualbox \
            --memory=4096 \
            --cpus=2 \
            --log_dir=/home/outrun/logs \
            --insecure-registry=192.168.99.1:5000 \
            --insecure-registry=registry.cn-qingdao.aliyuncs.com \
            --image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers

            --kubernetes-version v1.17.0
            --docker-env=HTTP_PROXY=$HTTP_PROXY \
            --docker-env=HTTPS_PROXY=$HTTPS_PROXY \
            --docker-env=NO_PROXY=$NO_PROXY \
            --image-mirror-country=cn \
            --registry-mirror=https://registry.docker-cn.com \
            --extra-config=kubelet.MaxPods=5.
                # registry一定是minikube容器ip, 可用ifconfig查看
                # --insecure-registry修改需要minikube delete
        stop
        delete
        status 
        docker-env
        ip      # 得到单机集群ip
        service  -n iot mosquitto --url
            # 得到service的nodePort

        ssh
        dashboard
        addons
            list
            enable heapster
            enable ingress
服务
    kube-system
        coredns
        etcd-minikube
        kube-addon-manager-minikube
        kube-proxy
        kube-scheduler-minikube
        nginx-ingress-controller
        storage-provisioner
    kubernetes-dashboard
        dashboard-metrics-scraper
        kubernetes-dashboard
</code></pre>
<h2 id="kubeadm">
  kubeadm
  <a class="anchor" href="#kubeadm">#</a>
</h2>
<pre><code>kubeadm init
</code></pre>
<h2 id="kubectl">
  kubectl
  <a class="anchor" href="#kubectl">#</a>
</h2>
<pre><code>配置
    envsubst &lt; iot.yml |kubectl apply -f -

全局参数
    --output=&quot;jsonpath={.data.\.dockerconfigjson}&quot;
    --output=yaml
    --context=iot
    --namespace=iot 
    --all-namespaces=true
    -n
        # namespace
Basic Commands (Beginner):
    create
        -f y1.yml
    expose
        deployment deploy1
            --target-port=8080
            --type=NodePort
    run   
        run deploy1 --image=gcr.io/google-samples/hello-app:1.0
        --port=8080
    set   
        image deploy gateway *=registry.cn-qingdao.aliyuncs.com/mrs-iot/gateway:1.0

Basic Commands (Intermediate):
    explain
    get
        -o 
            # 格式
            yaml
            wide
        -l app=a1
        -c gateway
        --show-labels
        --selector app=a1
        --all-containers=true
    edit
        ingress iot-ingress
    delete 
        --force  
        --grace-period=0

Deploy Commands:
    rollout
    scale
        deployment nginx-deployment
            --replicas=1
    autoscale
        deployment nginx-deployment 
            --min=2 --max=10 --cpu-percent=80

Cluster Management Commands:
    certificate  
    cluster-info 
    top          
    cordon       
    uncordon     
    drain        
    taint        

Troubleshooting and Debugging Commands:
    describe     
    logs
        -f
        --since=5m
    attach       
    exec         
        -it device-7b8965d85d-xz4qm bash
        -it device-7b8965d85d-xz4qm --container device -- /bin/bash
    port-forward 
    proxy        
        --port=8080
        http://localhost:8080/api/v1/proxy/namespaces/iot/services/device:http/
            # 访问内部端口
    cp           
    auth         

Advanced Commands:
    diff      
    apply           # 升级
        -f y1.yml
    patch     
    replace   
    wait      
    convert   
    kustomize 

Settings Commands:
    label     
    annotate  
    completion

Other Commands:
    api-resources 
    api-versions  
    config        
        view
        current-context
        set-context $(kubectl config current-context) --namespace=iot
        use-context iot

    plugin        
    version       

方案
    连阿里云k8s
        kubectl config set-cluster mrs --server=https://106.14.49.217:6443 --certificate-authority=/home/outrun/scripts/work/mrs-k8s/crt --embed-certs=true
        kubectl config set-context 297351062922226746-cdf45d630b2284f8ab79bea186c161d9f --cluster=mrs --user=297351062922226746 --namespace=lora-app
        kubectl config use-context 297351062922226746-cdf45d630b2284f8ab79bea186c161d9f
        kubectl config set-credentials 297351062922226746  --user=297351062922226746 --client-key=/home/outrun/scripts/work/mrs-k8s/297351062922226746.key.pem --client-certificate=/home/outrun/scripts/work/mrs-k8s/297351062922226746.crt --embed-certs=true
    私有仓库
        kubectl delete secret local
        kubectl -n iot create secret docker-registry local1 \
        --docker-server=192.168.99.1:5000 \
        --docker-username=outrun \
        --docker-password=asdf \
        --docker-email=934260428@qq.com
    所有nodeport
        kubectl get svc --all-namespaces -o go-template='{{range .items}}{{range.spec.ports}}{{if .nodePort}}{{.nodePort}}{{&quot;\n&quot;}}{{end}}{{end}}{{end}}'
    node上跑pod个数
        kubectl get po --all-namespaces -o wide | grep cn-shanghai.i-uf6iudwa5b1tvdxb3yy8 |  wc -l 
</code></pre>
<h2 id="chrome">
  chrome
  <a class="anchor" href="#chrome">#</a>
</h2>
<pre><code>chrome://net-internals/#dns
</code></pre>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/outrunJ/hugo-blog/commit/85037724496007b4fb43a38ab26f3d478a466b5f" title='Last modified by outrunJ | Sep 20, 2021' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>Sep 20, 2021</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/outrunJ/hugo-blog/tree/master/content/content/docs/cache/ops.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#环境">环境</a></li>
    <li><a href="#源">源</a></li>
    <li><a href="#分析">分析</a></li>
    <li><a href="#java">java</a></li>
    <li><a href="#go">go</a></li>
    <li><a href="#linux日志">linux日志</a></li>
    <li><a href="#网络">网络</a></li>
    <li><a href="#命令">命令</a></li>
    <li><a href="#docker">docker</a></li>
    <li><a href="#kubenetes">kubenetes</a>
      <ul>
        <li><a href="#minikube">minikube</a></li>
        <li><a href="#kubeadm">kubeadm</a></li>
        <li><a href="#kubectl">kubectl</a></li>
        <li><a href="#chrome">chrome</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












