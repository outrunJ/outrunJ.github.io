<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    Python
  
 | outrun的笔记</title>



<link rel="stylesheet" href="/book.min.1a0250256273fabf0f848ed9a3c50aae344d758339cad9725e656ac71546e6f5.css">


<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://example.com/">outrun的笔记</a>
</h2>



    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2fpl\2fpython\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><a href="/"><strong>介绍</strong></a></li>
<li><a href="/docs/algorithm"><strong>算法</strong></a>

<ul>
<li><a href="/docs/algorithm/math">数学</a></li>
<li><a href="/docs/algorithm/thought">思想</a></li>
<li><a href="/docs/algorithm/data_structure">数据结构</a></li>
</ul></li>
<li><a href="/docs/design"><strong>设计</strong></a>

<ul>
<li><a href="/docs/design/code">代码</a></li>
<li><a href="/docs/design/project">项目</a></li>
</ul></li>
<li><a href="/docs/pl"><strong>程序语言</strong></a>

<ul>
<li><a href="/docs/pl/principle">原理</a></li>
<li><a href="/docs/pl/go">go</a></li>
<li><a href="/docs/pl/js">js</a></li>
<li><a href="/docs/pl/java">java</a></li>
<li><a href="/docs/pl/python">python</a></li>
<li><a href="/docs/pl/haskell">haskell</a></li>
<li><a href="/docs/pl/clojure">clojure</a></li>
<li><a href="/docs/pl/css">css</a></li>
<li><a href="/docs/pl/markup_language"><strong><em>标记语言</em></strong></a>

<ul>
<li><a href="/docs/pl/markup_language/html">html</a></li>
</ul></li>
</ul></li>
<li><a href="/docs/architecture"><strong>架构</strong></a>

<ul>
<li><a href="/docs/architecture/principle">原理</a></li>
<li><a href="/docs/architecture/performance">性能</a></li>
<li><a href="/docs/architecture/solution">方案</a></li>
<li><a href="/docs/architecture/nginx">nginx</a></li>
<li><a href="/docs/architecture/nodejs">nodejs</a></li>
</ul></li>
<li><a href="/docs/backend"><strong>后端</strong></a>

<ul>
<li><a href="/docs/backend/principle">原理</a></li>
<li><a href="/docs/backend/elasticsearch">elasticsearch</a></li>
<li><a href="/docs/backend/javaweb">javaweb</a></li>
<li><a href="/docs/backend/spring">spring</a></li>
<li><a href="/docs/backend/hibernate">hibernate</a></li>
</ul></li>
<li><a href="/docs/db"><strong>数据库</strong></a>

<ul>
<li><a href="/docs/db/mongodb">mongodb</a></li>
<li><a href="/docs/db/mysql">mysql</a></li>
<li><a href="/docs/db/oracle">oracle</a></li>
<li><a href="/docs/db/postgre_sql">pgsql</a></li>
<li><a href="/docs/db/redis">redis</a></li>
</ul></li>
<li><a href="/docs/frontend"><strong>前端</strong></a>

<ul>
<li><a href="/docs/frontend/jquery">jquery</a></li>
<li><a href="/docs/frontend/bootstrap">bootstrap</a></li>
<li><a href="/docs/frontend/angular">angular</a></li>
<li><a href="/docs/frontend/react">react</a></li>
<li><a href="/docs/frontend/threejs">three.js</a></li>
</ul></li>
<li><a href="/docs/ops"><strong>运维</strong></a>

<ul>
<li><a href="/docs/ops/linux">linux</a></li>
<li><a href="/docs/ops/linux_tool">linux工具</a></li>
<li><a href="/docs/ops/security">安全</a></li>
<li><a href="/docs/ops/docker">docker</a></li>
</ul></li>
<li><a href="/docs/test"><strong>测试</strong></a></li>
<li><a href="/docs/tool"><strong>图形工具</strong></a>

<ul>
<li><a href="/docs/tool/vim">vim</a></li>
<li><a href="/docs/tool/eclipse">eclipse</a></li>
</ul></li>
<li><a href="/docs/management">管理</a></li>
<li><a href="/docs/media">媒体</a></li>
<li><a href="/docs/english">英语</a></li>
<li><a href="/docs/interview">题目</a></li>
<li><a href="/docs/infomation">信息</a></li>
<li><a href="/posts"><strong>博客</strong></a></li>
<li><a href="/about_me">关于我</a></li>
<li><a href="/register">&ldquo;寄存器&rdquo;</a></li>
</ul>





</nav>


  
<script>
(function() {
  var menu = document.querySelector('aside.book-menu nav')
  addEventListener('beforeunload', function(event) {
    localStorage.setItem('menu.scrollTop', menu.scrollTop)
  });
  menu.scrollTop = localStorage.getItem('menu.scrollTop')
})()
</script>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    Python
  
</strong>
</header>

      
<article class="markdown">

<h1 id="介绍">介绍</h1>

<pre><code>虚拟机语言
虽然是脚本语言，可以预编译成pyc文件来执行
</code></pre>

<h1 id="shell">shell</h1>

<pre><code>#! /usr/bin/python
# -*- coding: utf8 -*-
</code></pre>

<h1 id="语法">语法</h1>

<pre><code>规范
    pep8
</code></pre>

<h2 id="内置函数">内置函数</h2>

<pre><code>o-&gt;
    input(&quot;&quot;)
        # x = int(input(&quot;Please enter an integer:&quot;))
    print(&quot;%s&quot;, % s1)
        ## %.3s % (&quot;abcdef&quot;)取3字符
        ## %.* s % (2, &quot;abcd&quot;)取2字符)
    # %r repr()显示字符串
        # %c 单个字符
        # %b 二进制整数
        # %x 十六进制整数
        # %d 十进制整数
        # %i 十进制整数
        # %o 八进制整数
        # %e %E 指数(基底分别为e E)
        # %-10.3f %-10.3F 浮点数
        ## 10位宽, 小数精确3位, 右对齐
        # %g %G 指数(e E)或浮点数(根据显示长度决定)
        # %% 字符%
        print(&quot;c is %s, e is %i&quot; % (c, e)
    str(1)
    int(&quot;1&quot;)
    range(1, 10)
        # range(-2, -11, -3)
    exec('')
        # 执行字符串中的代码
    execfile(r'a.py')
    eval('2 * 3', globals, locals)
        # 执行字符串中的表达式
        # ast.literal_eval
    compile(str, filename, kind)
        # 编译字符串为模块
        # kind取值: single单语句, exec多语句, eval一个表达式
    assert 1 != 1
    repr(list)
        # 对象转换成代码字符串　
    map(str, range(100))
    filter()
    reduce()
    locals()
        # 当前作用域的变量字典
    isinstance(value, list)
    hasattr(obj, '__call__')
        # 判断是否函数
    type(l)
        # 返回对象类型，或创建metaclass
    chr(48)
        # 返回字符
    unichr
    ord('0')
        # 返回ascii码
    bool()
    iter()
    next()
    zip('abc', '123')
        list(zip())
o-&gt; 文件
    spath = &quot;D:/a.txt&quot;
    f = open(spath, &quot;w&quot;)
        # 没有时创建
    f.write(&quot;a\n&quot;)
    f.writelines(&quot;b&quot;)
    f.close()

    f = open(spath, &quot;r&quot;)
    for line in f:
        print(&quot;%s&quot; % line)
    f.readline()
    f.close()
o-&gt; 文档
    dir(list)
    help(s.replace)
</code></pre>

<h2 id="类型">类型</h2>

<pre><code>o-&gt; 基本类型
    数字
        1.2, 3+4j, Decimal, Fraction
    字符串


    列表
        [1, 2]
    字典
        {'a':1}
    元组
        (1)
    文件
        open('eggs', 'r')
    集合
        {'a'}
    其他类型
        类型, None, False, True
    编程单元
        函数, 模块, 类
    实现相关类型
        编译代码堆栈跟踪

o-&gt; 扩展属性
    dict = type('dict', (dict,), {})
    d = dict()
    d.a = 1

o-&gt; 序列
    [1,
    2]
    [1, [2]]

    len(l)
    l[0]
    l[-1]
    l[1:3]
    l[1:]
    l[:3]
    l[:-1]
    l[:]

    l + l
    l * 2
    del l[1:3]
    o-&gt; 字符串
        # 不可变
        r'a' R'a' u'a' U'a' b'a' B'a'
        'abc\
        def'
        'a' 'b'
        'a' &quot;a&quot; '''a''' &quot;&quot;&quot;a&quot;&quot;&quot;

        s.startswith('a')
        s.find('a')
        s.replace('a', 'A')
        s.split(',')
        s.join(list)
        s.upper()
        s.isalpha()
        s.isdigit()
        s.rstrip()
                # 去右侧空白
        '%s, %s' % ('a', 'b')
        '{0},{1}'.format('a', 'b')

        if 'a' in name:
    o-&gt; 列表
        l.append('h')
        l.pop(2)
            # 弹出特定位置
        l.sort()
        l.reverse()

        print(l)

        for x in word:

        [2 * i for i in [2,3,4] if i &gt; 2]
            # 列表解析
            [row[1] + 1 for row in M]
            [M[i][i] for i in [0, 1, 2]]
            {ord(x) for x in 'spaam'}
                # 创建集合
            {x: ord(x) for x in 'spaam'}
                # 创建字典
    o-&gt; 元组
        # 不可变
        ('a', 'b')
        (1,) + (2,)
            # (1, 2)
        t.index('c')
        t.count('c')
    o-&gt; set
        s = set('a')
        set([1])
        s.add(2)

        s1, s2
        s1 &amp; s2
        s1 | s2
        s1 - s2
        {x ** 2 for x in [1,2,3,4]}
            # 返回set

o-&gt; 字典
    d = {'a': 'aaa', 'b': 'bbb', 'c': 12}
    d['d'] = 3

    d.items()
        # key value
    d.keys()
        list(d.keys())

    len(d)
    del d['a']
    d.get('a', 0)
    d['a']

    for key in d:
    if 'a' in d:
    d['a'] if 'a' in d else 0
o-&gt; 文件
    f = open('data.txt', 'w')
    f.write('a')
    f.close()

    text = f.read()
        text.split()
</code></pre>

<h2 id="语句">语句</h2>

<pre><code>o-&gt; 语句
    在物理行中用分号划分逻辑行
    pass
o-&gt; 运算符
    + - * / % &lt;&lt; &gt;&gt; &lt; &gt; &lt;= &gt;= == !=
    &amp; | ^ ~
        # 按位与 或 异或 翻转(x 变为 -(x + 1))
    not and or
    **
        # 幂
    //
        # 取整除
    code if None else 0
    True and 1 or 0
o-&gt; 条件
    if x &lt; 0:
            x = 0
    elif x == 0:
    else:
o-&gt; 循环
    for x in a:
    else:

    while running:
    else:
</code></pre>

<h2 id="函数">函数</h2>

<pre><code>函数
    def sum(a, b=2, *args, **kwargs):
            # *args得到元组, kwargs得到字典
            ''' doc
        string'''

        global x
        nonlocal y
        return a + b
    sum(a=1)
    sum.__doc__

    def make_repeater(n):
        return lambda s: s * n
            # lambda只能跟表达式，返回一个函数
生成器
    def gn2():
        yield
    def gn(N):
        for i in range(N):
            yield i ** 2
        yield from gn2()
            # 相当于静态引入gn2
    g = gn()
    next(g)
    g.send(1)
asyncio模块
    @asyncio.coroutine
    def f():
        yield from asyncio.sleep(1)
    loop = asyncio.get_event_loop()
    tasks = [asyncio.async(f())]
    loop.run_until_complete(asyncio.wait(tasks))
    loop.close()
协程
    @types.coroutine
    def f2():
        yield

    async def f():
        print(1)
        await f2()
                # 协程显式交替，线程不用写，会隐式交替

    try:
        f().send(None)
    except StopIteration:
        pass
协程asyncio
    async f():
        await asyncio.sleep(1)
    loop = asyncio.get_event_loop()
    tasks = [asyncio.ensure_future(f())]
    loop.run_until_complete(asyncio.wait(tasks))
    loop.close()
协程属性
    gi_frame
        f_code
            co_filename
        f_lineno
属性
    __name__
    __code__
    __annotations__
</code></pre>

<h2 id="oop">oop</h2>

<pre><code>class Base:
    __metaclass__ = models.SubfieldBase
        # __metaclass__实例化结果是类，用于继承
    description = ''
    def __init__(self, name):
        # self就是this
        #  __del__(self)
        # __str__(self)
        # __lt__(self)
        # __getitem__(self, key)
        ## x[key]索引时调用
        # __len__(self)
        super(Base, self).__init__(*args, **kwargs)
        self.data = []

    def add(self, x)
        self.data.append(x)
    @classmethod
    def t1(cls):
    @staticmethod
    def t2():
class Child(Base):
    # 继承
    def plus(self, a, b):
        return a + b
oChild = Child()
oChild.add(&quot;str1&quot;)
oChild.data
oChild.plus(2, 3)
</code></pre>

<h2 id="模块">模块</h2>

<pre><code># .pyc是字节编译文件
# __name__ 等于'__main__'时程序本身使用运行, 否则是引用

# a.py
def add_func(a, b):
        return a + b
# b.py
from a import add_func
    # import add_func as f
    # from a import *

# __init__.py
    # 表示文件夹为包, 可空

包路径
    # 环境变量PYTHONPATH中的值
    import sys
    import os

    sys.path
    sys.path.append(os.getcwd() + &quot;\\parent\\child&quot;)
</code></pre>

<h2 id="异常">异常</h2>

<pre><code>if s == &quot;&quot;:
    raise Exception(&quot;must not be empty.&quot;)
try:
    i = int(s)
except Exception as err:
    # except Exception, err
    print('Error %d: %s' % (e.args[0], e.args[1]))
except:
finally:
    print(&quot;Goodbye.&quot;)
else:
</code></pre>

<h1 id="模块-1">模块</h1>

<pre><code>os
sys
    argv
        # 参数列表, 多维列表
    exit()
        # 退出线程
imp
    reload
        # 重载模块
time
timeit
profile
decimal
fractions
urllib
http
    http.server
        # python3中的SimpleHTTPServer
re
functools
itertools
SimpleHTTPServer
    # python2自带ftp服务器。
    pythom -m SimpleHTTPServer 8080


PyQt
    # gui
PyGTK
    # gui
wxPython
    # gui
TkInter
    # gui
matplotlib
    # 图形
pillow
    # ocr, 文字识别
pytesseract
    # ocr, 精确


numpy
math
random
scipy
    # 科学计算

beautifulsoup
    # 网页结构化
scrapy
    # 网页结构化
requests
phantomJS
    # 运行网页js
selenium
    # 运行网页js


pandas
    # 数据分析，产生数据结构、操作、统计、绘图
seaborn
    # 数据可视化
scikit-learn
    # 机器学习
nltk
    # 自然语言分析


mysql-connector
mysqlclient
PyMySQL
MySQLdb
redis.py
south
    # 表结构迁移, django自带

pickle
    # 持久化
qrcode
    # 二维码


ast
    # 运算前检查的eval()
datetime
shutil
    # shell


fabric
    # 运程自动部署
celery
    # 定时调度
</code></pre>

<h1 id="工具">工具</h1>

<pre><code>steuptools
    easy_install
pip
    pip install -i http://pypi.douban.com/simple/ torndb
        # 用豆辨的pypi索引
    pip install ipython==4.2.0
        # 安装指定版本
ipython notebook
    # 在线运行python
bpython
    # 更好的repl
pdb
    # 调试
cprofile
    # 性能测试
</code></pre>

<h1 id="容器">容器</h1>

<pre><code>gunicorn
    # python实现
    sudo pip install gunicorn
    gunicorn -w4 -b0.0.0.0:8001 app.wsgi
uwsgi
    # c语言实现
    sudo pip install uwsgi
    uwsgi --http :8001 --chdir /path/to/project --home=/path/to/env --module project.wsgi
            # --home指定virtualenv的路径
nginx
shell
</code></pre>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a href="https://github.com/outrunJ/hugo-blog/commit/d77a072aab9ef6a9a141f9424c2ff3b1a22d16b6" title='Last modified Jul 2, 2019 by shenwenqing' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" alt="Changed" /> Jul 2, 2019
    </a>
  </div>
  
  
  <div>
    <a href="https://github.com/outrunJ/hugo-blog/tree/master/content/docs/pl/python.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" alt="Edit" /> Edit this page
    </a>
  </div>
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-6 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#介绍">介绍</a></li>
<li><a href="#shell">shell</a></li>
<li><a href="#语法">语法</a>
<ul>
<li><a href="#内置函数">内置函数</a></li>
<li><a href="#类型">类型</a></li>
<li><a href="#语句">语句</a></li>
<li><a href="#函数">函数</a></li>
<li><a href="#oop">oop</a></li>
<li><a href="#模块">模块</a></li>
<li><a href="#异常">异常</a></li>
</ul></li>
<li><a href="#模块-1">模块</a></li>
<li><a href="#工具">工具</a></li>
<li><a href="#容器">容器</a></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
</body>

</html>
