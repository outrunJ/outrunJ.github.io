<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="基础 # 思路 分治 计算向数据移动 本地取数据	流程 采集 -&gt; kafka -&gt; ETL -&gt; kafka -&gt; 存储 -&gt; OLAP 运维 # Ambari # 安装、部署、配置和管理 Flume # cloudera开源, 日志收集 Ganglia # 分布式监控系统，php页面 HUE # web管理Hadoop 存储 # HDFS # # Hadoop Distributed File System, 一开始为Nutch搜索引擎开发 存储模型 按字节切割,block存储,block多副本 不支持修改(因为修改文件而非block, 且会引发规模修改)，可以追加 主从架构 NameNode 树形目录 内存存储元数据，可持久化(EditLog事务日志, FsImage) NameNode启动时安全模式 SecondaryNameNode合并EditLog到新FsImage DataNode上报block列表 存副本策略 DataNode 本地文件形式存block, 存校验 与NameNode心跳，汇报block列表 Client 交互元数据和block API结构 推荐节点数不过5000 角色：一个进程 Block副本放置策略 Pipeline HA JournalNode NameNode同步EditLog FailoverController 利用ZooKeeper 同主机下监控NameNode 验证对方主机主NN是否真的挂掉，调用对方降级为Standby HBase # 介绍 Hadoop Database, 实时分布式, bigtable列簇数据库, 非结构化，自动切分, 并发读写 只能row key查询, master有单点问题 版本 0.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://example.com/docs/architect/strategy/big_data/" />

<title>Big Data | outrun的笔记</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css" integrity="sha256-RhgbyTN1upMgJudTs3xA5v&#43;LsWqe93DHi8xmPkV3sbo=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.a49cd50c32ea1b75896f9bb5acf1f42a5e283f6d3c5c9311850bf487538e7b99.js" integrity="sha256-pJzVDDLqG3WJb5u1rPH0Kl4oP208XJMRhQv0h1OOe5k=" crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154152836-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<link rel="alternate" type="application/rss+xml" href="https://example.com/docs/architect/strategy/big_data/index.xml" title="outrun的笔记" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <script data-ad-client="ca-pub-6239994681364905" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="baidu_union_verify" content="aacbc30462cce84b2333063d99284e3b">
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.png" alt="Logo" /><span>outrun的笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  <ul>
<li><a href="/"><strong>介绍</strong></a></li>
<li><a href="/docs/architect"><strong>架构</strong></a>
<ul>
<li><a href="/docs/architect/strategy"><strong><strong>战略性</strong></strong></a>
<ul>
<li><a href="/docs/architect/strategy/middle_platform">中台</a></li>
<li><a href="/docs/architect/strategy/big_data">大数据</a>
<ul>
<li><a href="/docs/architect/strategy/big_data/hadoop">Hadoop</a></li>
</ul>
</li>
<li><a href="/docs/architect/strategy/ai">AI</a></li>
<li><a href="/docs/architect/strategy/iot">IoT</a></li>
</ul>
</li>
<li><a href="/docs/architect/project"><strong><strong>工程设计原则</strong></strong></a>
<ul>
<li><a href="/docs/architect/project/ddd">DDD</a></li>
</ul>
</li>
<li><a href="/docs/architect/code"><strong><strong>代码原则</strong></strong></a>
<ul>
<li><a href="/docs/architect/code/design_mode">设计模式</a></li>
<li><a href="/docs/architect/code/security">安全/协议</a></li>
</ul>
</li>
<li><a href="/docs/architect/frontend"><strong><strong>前端</strong></strong></a></li>
</ul>
</li>
<li><a href="/docs/tool"><strong>工具</strong></a>
<ul>
<li><a href="/docs/tool/linux"><strong><strong>Linux系统</strong></strong></a>
<ul>
<li><a href="/docs/tool/linux/linux_tool">Linux工具</a></li>
<li><a href="/docs/tool/linux/scene">Linux场景</a></li>
<li><a href="/docs/tool/linux/linux_program">Linux系统编程函数</a></li>
</ul>
</li>
<li><a href="/docs/tool/ops"><strong><strong>运维工具</strong></strong></a>
<ul>
<li><a href="/docs/tool/ops/monitor">监控指标</a></li>
<li><a href="/docs/tool/ops/docker">Docker</a></li>
<li><a href="/docs/tool/ops/k8s">Kubernetes</a></li>
</ul>
</li>
<li><a href="/docs/tool/develop"><strong><strong>开发工具</strong></strong></a>
<ul>
<li><a href="/docs/tool/develop/vim">Vim</a></li>
<li><a href="/docs/tool/develop/eclipse">Eclipse</a></li>
<li><a href="/docs/tool/develop/apple">Apple</a></li>
<li><a href="/docs/tool/develop/jetbrains">Jetbrains</a></li>
</ul>
</li>
<li><a href="/docs/tool/test"><strong><strong>测试工具</strong></strong></a>
<ul>
<li><a href="/docs/tool/test/debug">代码调试</a></li>
</ul>
</li>
<li><a href="/docs/tool/product"><strong><strong>产品工具</strong></strong></a>
<ul>
<li><a href="/docs/tool/product/enterprise_system">企业级系统</a></li>
<li><a href="/docs/tool/product/framework">服务与框架</a></li>
</ul>
</li>
<li><a href="/docs/tool/physics"><strong><strong>实物工具</strong></strong></a></li>
</ul>
</li>
<li><a href="/docs/middleware"><strong>中间件</strong></a>
<ul>
<li><a href="/docs/middleware/container"><strong><strong>容器</strong></strong></a>
<ul>
<li><a href="/docs/middleware/container/nginx">Nginx</a></li>
<li><a href="/docs/middleware/container/nodejs">Node.js</a></li>
</ul>
</li>
<li><a href="/docs/middleware/distributed"><strong><strong>分布式</strong></strong></a>
<ul>
<li><a href="/docs/middleware/distributed/spring_cloud">Spring Cloud</a></li>
</ul>
</li>
<li><a href="/docs/middleware/library"><strong><strong>库</strong></strong></a>
<ul>
<li><a href="/docs/middleware/library/hibernate">Hibernate</a></li>
</ul>
</li>
<li><a href="/docs/middleware/library_frontend"><strong><strong>前端库</strong></strong></a>
<ul>
<li><a href="/docs/middleware/library_frontend/jquery">JQuery</a></li>
<li><a href="/docs/middleware/library_frontend/bootstrap">Bootstrap</a></li>
<li><a href="/docs/middleware/library_frontend/angular">Angular</a></li>
<li><a href="/docs/middleware/library_frontend/react">React</a></li>
<li><a href="/docs/middleware/library_frontend/threejs">Three.js</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/db"><strong>数据库</strong></a>
<ul>
<li><a href="/docs/db/mongodb">MongoDB</a></li>
<li><a href="/docs/db/mysql">Mysql</a></li>
<li><a href="/docs/db/oracle">Oracle</a></li>
<li><a href="/docs/db/postgresql">PgSQL</a></li>
<li><a href="/docs/db/redis">Redis</a></li>
<li><a href="/docs/db/elasticsearch">Elasticsearch</a></li>
</ul>
</li>
<li><a href="/docs/pl"><strong>语言</strong></a>
<ul>
<li><a href="/docs/pl/principle">原理</a></li>
<li><a href="/docs/pl/java"><strong><strong>Java</strong></strong></a>
<ul>
<li><a href="/docs/pl/java/jvm">JVM</a></li>
<li><a href="/docs/pl/java/collection">Java Collection</a></li>
<li><a href="/docs/pl/java/juc">Java Concurrent</a></li>
<li><a href="/docs/pl/java/spring">Spring</a></li>
<li><a href="/docs/pl/java/rxjava">RxJava</a></li>
<li><a href="/docs/pl/java/javaweb">JavaWeb</a></li>
</ul>
</li>
<li><a href="/docs/pl/go">GO</a></li>
<li><a href="/docs/pl/js">JS</a></li>
<li><a href="/docs/pl/python">Python</a></li>
<li><a href="/docs/pl/haskell">Haskell</a></li>
<li><a href="/docs/pl/clojure">Clojure</a></li>
<li><a href="/docs/pl/markup_language"><strong><strong>标记语言</strong></strong></a>
<ul>
<li><a href="/docs/pl/markup_language/html">HTML</a></li>
<li><a href="/docs/pl/markup_language/css">CSS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/basic"><strong>基本功</strong></a>
<ul>
<li><a href="/docs/basic/algorithm"><strong><strong>算法</strong></strong></a>
<ul>
<li><a href="/docs/basic/algorithm/math">数学</a></li>
<li><a href="/docs/basic/algorithm/thought">思想</a></li>
<li><a href="/docs/basic/algorithm/data_structure">数据结构</a></li>
</ul>
</li>
<li><a href="/docs/basic/computer"><strong><strong>计算机</strong></strong></a>
<ul>
<li><a href="/docs/basic/computer/principle">原理</a></li>
<li><a href="/docs/basic/computer/performance">性能</a></li>
</ul>
</li>
<li><a href="/docs/basic/business"><strong><strong>业务</strong></strong></a>
<ul>
<li><a href="/docs/basic/business/trade">行业发展</a></li>
<li><a href="/docs/basic/business/function">功能</a></li>
<li><a href="/docs/basic/business/ops">运维</a></li>
<li><a href="/docs/basic/business/test">测试</a></li>
</ul>
</li>
<li><a href="/docs/basic/soft"><strong><strong>软技能</strong></strong></a>
<ul>
<li><a href="/docs/basic/soft/person">个人</a></li>
<li><a href="/docs/basic/soft/organize"><em><strong><strong>组织</strong></strong></em></a>
<ul>
<li><a href="/docs/basic/soft/organize/people">人员</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="/docs/cache"><strong>Cache</strong></a>
<ul>
<li><a href="/docs/cache/ops">运维</a></li>
<li><a href="/docs/cache/template">模板配置</a></li>
<li><a href="/docs/cache/soft_arch">软考</a></li>
</ul>
</li>
<li><a href="/docs/misc"><strong>Misc</strong></a>
<ul>
<li><a href="/docs/misc/infomation">信息</a></li>
<li><a href="/docs/misc/media">媒体</a></li>
<li><a href="/docs/misc/english">英语</a></li>
<li><a href="/docs/misc/interview">题目</a></li>
<li><a href="/docs/misc/book">书</a></li>
<li><a href="/docs/misc/about_me">关于我</a></li>
<li><a href="/docs/misc/summary">这些年我做过的技术</a></li>
</ul>
</li>
<li><a href="/posts"><strong>Posts</strong></a></li>
</ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Big Data</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#基础">基础</a></li>
    <li><a href="#运维">运维</a>
      <ul>
        <li><a href="#ambari">Ambari</a></li>
        <li><a href="#flume">Flume</a></li>
        <li><a href="#ganglia">Ganglia</a></li>
        <li><a href="#hue">HUE</a></li>
      </ul>
    </li>
    <li><a href="#存储">存储</a>
      <ul>
        <li><a href="#hdfs">HDFS</a></li>
        <li><a href="#hbase">HBase</a></li>
        <li><a href="#hive">Hive</a></li>
        <li><a href="#clickhouse">ClickHouse</a></li>
      </ul>
    </li>
    <li><a href="#采集">采集</a>
      <ul>
        <li><a href="#flume-1">Flume</a></li>
        <li><a href="#sqoop">Sqoop</a></li>
        <li><a href="#oozie">OoZie</a></li>
        <li><a href="#azkaban">Azkaban</a></li>
      </ul>
    </li>
    <li><a href="#处理">处理</a>
      <ul>
        <li><a href="#离线计算批处理">离线计算(批处理)</a>
          <ul>
            <li><a href="#mapreduce">MapReduce</a></li>
          </ul>
        </li>
        <li><a href="#pig">Pig</a></li>
        <li><a href="#mahout">Mahout</a>
          <ul>
            <li><a href="#tez">Tez</a></li>
          </ul>
        </li>
        <li><a href="#流式计算">流式计算</a>
          <ul>
            <li><a href="#impala">Impala</a></li>
            <li><a href="#s4">S4</a></li>
            <li><a href="#storm">Storm</a></li>
            <li><a href="#spark">Spark</a></li>
            <li><a href="#flink">Flink</a></li>
            <li><a href="#kafka-stream">Kafka Stream</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#数据管理">数据管理</a>
      <ul>
        <li><a href="#yarn">Yarn</a></li>
        <li><a href="#mesos">Mesos</a></li>
        <li><a href="#tachyon">Tachyon</a></li>
      </ul>
    </li>
    <li><a href="#上层分析展示">上层(分析、展示)</a>
      <ul>
        <li><a href="#mllib">Mllib</a></li>
        <li><a href="#giraph">Giraph</a></li>
        <li><a href="#graphx">GraphX</a></li>
        <li><a href="#superset">Superset</a></li>
        <li><a href="#metabase">Metabase</a></li>
        <li><a href="#redash">Redash</a></li>
        <li><a href="#birt">BIRT</a></li>
        <li><a href="#kylin">Kylin</a></li>
        <li><a href="#davinci">Davinci</a></li>
        <li><a href="#dbus-allinone">DBus-allinone</a></li>
        <li><a href="#hawq">HAWQ</a></li>
        <li><a href="#phoenix">phoenix</a></li>
        <li><a href="#shark">Shark</a></li>
        <li><a href="#presto">Presto</a></li>
        <li><a href="#drill">Drill</a></li>
        <li><a href="#dremel">Dremel</a></li>
        <li><a href="#kylin-1">Kylin</a></li>
        <li><a href="#gridgain">GridGain</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="基础">
  基础
  <a class="anchor" href="#%e5%9f%ba%e7%a1%80">#</a>
</h1>
<pre><code>思路 
	分治
	计算向数据移动
	本地取数据	
流程
	采集 -&gt; kafka -&gt; ETL -&gt; kafka -&gt; 存储 -&gt; OLAP
</code></pre>
<h1 id="运维">
  运维
  <a class="anchor" href="#%e8%bf%90%e7%bb%b4">#</a>
</h1>
<h2 id="ambari">
  Ambari
  <a class="anchor" href="#ambari">#</a>
</h2>
<pre><code>安装、部署、配置和管理
</code></pre>
<h2 id="flume">
  Flume
  <a class="anchor" href="#flume">#</a>
</h2>
<pre><code>cloudera开源, 日志收集
</code></pre>
<h2 id="ganglia">
  Ganglia
  <a class="anchor" href="#ganglia">#</a>
</h2>
<pre><code>分布式监控系统，php页面
</code></pre>
<h2 id="hue">
  HUE
  <a class="anchor" href="#hue">#</a>
</h2>
<pre><code>web管理Hadoop
</code></pre>
<h1 id="存储">
  存储
  <a class="anchor" href="#%e5%ad%98%e5%82%a8">#</a>
</h1>
<h2 id="hdfs">
  HDFS
  <a class="anchor" href="#hdfs">#</a>
</h2>
<pre><code># Hadoop Distributed File System, 一开始为Nutch搜索引擎开发
存储模型
	按字节切割,block存储,block多副本
	不支持修改(因为修改文件而非block, 且会引发规模修改)，可以追加
主从架构
	NameNode
		树形目录
		内存存储元数据，可持久化(EditLog事务日志, FsImage)
			NameNode启动时安全模式
				SecondaryNameNode合并EditLog到新FsImage
				DataNode上报block列表
		存副本策略
	DataNode
		本地文件形式存block, 存校验
		与NameNode心跳，汇报block列表
	Client
		交互元数据和block
API结构
	推荐节点数不过5000
	角色：一个进程
Block副本放置策略
	Pipeline
HA
	JournalNode
		NameNode同步EditLog
	FailoverController
		利用ZooKeeper
		同主机下监控NameNode
		验证对方主机主NN是否真的挂掉，调用对方降级为Standby
</code></pre>
<h2 id="hbase">
  HBase
  <a class="anchor" href="#hbase">#</a>
</h2>
<pre><code>介绍
	Hadoop Database, 实时分布式, bigtable列簇数据库, 非结构化，自动切分, 并发读写
	只能row key查询, master有单点问题
版本
	0.98
	1.x
	2.x
原理
	修改只追加记录，合并时删除
架构
	Client
		提供接口，维护客户端缓存
	Zookeeper
		只有一个活跃master
		存Region寻址入口
		实时监控region server在线信息，通知master
		存schema、table元数据
	Master
		为region server分配region	
		region server负载均衡
		失效region server重新分配region
		管理table CRUD
	RegionServer
		维护region
		切分大region
	Region
		表水平分region分配在多个region server, region增大时裂变
	HLog
		写Store之前先写HLog, flush到HDFS, store写完后HDFS存储移到old，2天后删除	
	Store
		region由多个store组成, 一个store对应一个CF
		store先写入memstore, 到阈值后启动flashcache写入storefile
		storefile增长到阈值，进行合并
			minor compaction
			major compaction，默认最多256M
		region所有storefile达到阈值，region分割
</code></pre>
<h2 id="hive">
  Hive
  <a class="anchor" href="#hive">#</a>
</h2>
<pre><code>数据仓库
封装的HDFS和MapReduce
</code></pre>
<h2 id="clickhouse">
  ClickHouse
  <a class="anchor" href="#clickhouse">#</a>
</h2>
<h1 id="采集">
  采集
  <a class="anchor" href="#%e9%87%87%e9%9b%86">#</a>
</h1>
<pre><code>业务数据
	ODS原始数据快照
	日志
	动态数据：用户推荐数据，用户行为
	第三方数据：用户征信、广告投放数据、企业信息
技术
	RPC同步
	ETL拉取
	日志采集
	爬虫
实时
	trigger、日志
		canel
准实时
	日志
非实时
	任务调度
		quartz, xxl-job, 大数据
</code></pre>
<h2 id="flume-1">
  Flume
  <a class="anchor" href="#flume-1">#</a>
</h2>
<pre><code>日志采集
</code></pre>
<h2 id="sqoop">
  Sqoop
  <a class="anchor" href="#sqoop">#</a>
</h2>
<pre><code>数据库ETL
etl, sql-to-Hadoop, MapReduce程序, 支持Hive, HDFS
</code></pre>
<h2 id="oozie">
  OoZie
  <a class="anchor" href="#oozie">#</a>
</h2>
<pre><code>任务调度
</code></pre>
<h2 id="azkaban">
  Azkaban
  <a class="anchor" href="#azkaban">#</a>
</h2>
<pre><code>任务调度
</code></pre>
<h1 id="处理">
  处理
  <a class="anchor" href="#%e5%a4%84%e7%90%86">#</a>
</h1>
<h2 id="离线计算批处理">
  离线计算(批处理)
  <a class="anchor" href="#%e7%a6%bb%e7%ba%bf%e8%ae%a1%e7%ae%97%e6%89%b9%e5%a4%84%e7%90%86">#</a>
</h2>
<h3 id="mapreduce">
  MapReduce
  <a class="anchor" href="#mapreduce">#</a>
</h3>
<pre><code>	每个task启动一个jvm
</code></pre>
<h2 id="pig">
  Pig
  <a class="anchor" href="#pig">#</a>
</h2>
<pre><code>数据流处理语言，类SQL, 脚本转换为MapReduce任务
</code></pre>
<h2 id="mahout">
  Mahout
  <a class="anchor" href="#mahout">#</a>
</h2>
<pre><code>数据挖掘, 机器学
</code></pre>
<h3 id="tez">
  Tez
  <a class="anchor" href="#tez">#</a>
</h3>
<pre><code>用DAG(有向无环图)组织多个MR任务
</code></pre>
<h2 id="流式计算">
  流式计算
  <a class="anchor" href="#%e6%b5%81%e5%bc%8f%e8%ae%a1%e7%ae%97">#</a>
</h2>
<h3 id="impala">
  Impala
  <a class="anchor" href="#impala">#</a>
</h3>
<pre><code># cloudrea开源,实时视图计算框架, 分布式查询引擎。直接从HDFS或Hbase中用select, join, 支持事务, 需要kafka
</code></pre>
<h3 id="s4">
  S4
  <a class="anchor" href="#s4">#</a>
</h3>
<pre><code># 分布式流计算，允许请求丢失
</code></pre>
<h3 id="storm">
  Storm
  <a class="anchor" href="#storm">#</a>
</h3>
<pre><code>只能流式计算
</code></pre>
<h3 id="spark">
  Spark
  <a class="anchor" href="#spark">#</a>
</h3>
<pre><code>介绍
	in memory, 准实时的批处理，生态好于Storm
	无事务
集群
	Master
	Worker
	Driver
	Executor	
组件
	Spark RDD(Resiliennt Distributed Datasets)
	Spark Core 批计算，取代MR
		粗粒度资源申请，task自行分配启动快，executor不kill
		内存计算
		chain
	Spark Streamming 流计算，取代Storm
		批计算无限缩小，实时性差
		默认无状态
			用updateStateByKey保存上次计算结果，变成有状态
			借助Redis或ES存
	Spark SQL 数据处理
	Spark MlLib 机器学习
	Spark R 数据分析
使用
	val session = SparkSessionBase.createSparkSession()
	var sc = session.sparkContext
	var rdd = sc.makeRDD(List(1,2,3,4,5,6))
	val mapRDD = rdd.map(x -&gt; {
		x
	})
	val filterRDD = mapRDD.filter(x =&gt; {
		true
	})
	filterRDD.count
</code></pre>
<h3 id="flink">
  Flink
  <a class="anchor" href="#flink">#</a>
</h3>
<pre><code>特点
	高吞吐、低延迟、高性能
	支持事件时间(Event Time)
	擅长有状态的计算	
		内存
		磁盘
		RocksDB
	灵活的窗口（Window）操作： time, count, session
	基于轻量级分布式快照（CheckPoint）实现容错，保证exactly-once
	基于JVM实现独立内存管理
	Save Points方便代码升级
批计算是流计算的特例
	unbound streams		# 定义开始不定义结束，流计算
	bounded streams		# 定义开始也定义结束，批计算
迟到数据问题
	温度窗口
	水位线(Watermark)
集群
	JobManager(JVM进程)
	TaskManager(JVM进程)
		Task Slot	
			一组固定的资源，隔离内存，不隔离核
			一般与核数对应，核支持超线程时一个算两个
配置
	/etc
		/flink-conf.yaml
		/slaves
		/masters
组件
	部署
		Single JVM		# 多线程模拟
		Standalone
		YARN	
	库
		CEP				# 复杂事件库
		Table
		FlinkML
		Gelly
使用
	import org.apache.flink.streaming.api.scala._

	val env = StreamExecutionEnvironment.getExecutionEnvironment
	val initStream:DataStream[String] = env.socketTextStream(&quot;node01&quot;, 8888)
	val wordStream = initStream.flatMap(_.split(&quot; &quot;))
	val pairStream = wordStream.map((_, 1))
	val keyByStream = pairStream.keyBy(0)
	val restStream = keyByStream.sum(1)
	restStream.print()
	env.execute(&quot;job1&quot;)
</code></pre>
<h3 id="kafka-stream">
  Kafka Stream
  <a class="anchor" href="#kafka-stream">#</a>
</h3>
<h1 id="数据管理">
  数据管理
  <a class="anchor" href="#%e6%95%b0%e6%8d%ae%e7%ae%a1%e7%90%86">#</a>
</h1>
<pre><code>元数据管理
任务管理：管理、编排、调度、监测
数据质量、数据治理
</code></pre>
<h2 id="yarn">
  Yarn
  <a class="anchor" href="#yarn">#</a>
</h2>
<pre><code>介绍
	Yet Another Resource Negotiator, 任务管理, 调度算力资源, 在HDFS上运行计算框架(如MapReduce, Storm, Spark)
组成
	ResourceManager(RM)
		处理请求
		监控NodeManager
		启动、监控ApplicationMaster
		资源分配调度
		常驻
	NodeManager(NM)
		常驻
	ApplicationMaster(AM)
		数据切分
		为应用程序申请资源再分配给内部任务
		任务监控、容错
		非常驻，job拉起
	Container
		运行APP
		某节点上多维度的资源
		由NodeManager调度
		非常驻
</code></pre>
<h2 id="mesos">
  Mesos
  <a class="anchor" href="#mesos">#</a>
</h2>
<h2 id="tachyon">
  Tachyon
  <a class="anchor" href="#tachyon">#</a>
</h2>
<pre><code>分布式缓存
</code></pre>
<h1 id="上层分析展示">
  上层(分析、展示)
  <a class="anchor" href="#%e4%b8%8a%e5%b1%82%e5%88%86%e6%9e%90%e5%b1%95%e7%a4%ba">#</a>
</h1>
<h2 id="mllib">
  Mllib
  <a class="anchor" href="#mllib">#</a>
</h2>
<pre><code>machine learning library, Spark机器学习库
</code></pre>
<h2 id="giraph">
  Giraph
  <a class="anchor" href="#giraph">#</a>
</h2>
<pre><code>大规模图分布式计算
</code></pre>
<h2 id="graphx">
  GraphX
  <a class="anchor" href="#graphx">#</a>
</h2>
<pre><code>Spark分布式图处理框架
</code></pre>
<h2 id="superset">
  Superset
  <a class="anchor" href="#superset">#</a>
</h2>
<h2 id="metabase">
  Metabase
  <a class="anchor" href="#metabase">#</a>
</h2>
<h2 id="redash">
  Redash
  <a class="anchor" href="#redash">#</a>
</h2>
<h2 id="birt">
  BIRT
  <a class="anchor" href="#birt">#</a>
</h2>
<h2 id="kylin">
  Kylin
  <a class="anchor" href="#kylin">#</a>
</h2>
<h2 id="davinci">
  Davinci
  <a class="anchor" href="#davinci">#</a>
</h2>
<h2 id="dbus-allinone">
  DBus-allinone
  <a class="anchor" href="#dbus-allinone">#</a>
</h2>
<h2 id="hawq">
  HAWQ
  <a class="anchor" href="#hawq">#</a>
</h2>
<pre><code># Hadoop原生sql查询引擎
</code></pre>
<h2 id="phoenix">
  phoenix
  <a class="anchor" href="#phoenix">#</a>
</h2>
<pre><code># OLTP, 支持Hbase和HDFS, jdbc, 更快sql查询
</code></pre>
<h2 id="shark">
  Shark
  <a class="anchor" href="#shark">#</a>
</h2>
<pre><code># sql on Spark, 并行job处理比MapReduce快100倍
</code></pre>
<h2 id="presto">
  Presto
  <a class="anchor" href="#presto">#</a>
</h2>
<pre><code># 分布式sql查询, facebook开源, 称比Hive快10倍
</code></pre>
<h2 id="drill">
  Drill
  <a class="anchor" href="#drill">#</a>
</h2>
<pre><code># Apache, Dremel的开源版本, 对多数据库生成query plan
</code></pre>
<h2 id="dremel">
  Dremel
  <a class="anchor" href="#dremel">#</a>
</h2>
<pre><code>介绍
	google的交互式数据分析系统，构建于gfs上
特点
	嵌套型数据的列存储, 多层查询
	减少查询的处理数据量
</code></pre>
<h2 id="kylin-1">
  Kylin
  <a class="anchor" href="#kylin-1">#</a>
</h2>
<pre><code># OLAP, Apache, 支持Cube类查询
</code></pre>
<h2 id="gridgain">
  GridGain
  <a class="anchor" href="#gridgain">#</a>
</h2>
<pre><code>网格计算框架，提供平行计算能力</code></pre>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/outrunJ/hugo-blog/commit/9d2ea756f7e5d3ffd8c443f52554888da5999c1a" title='Last modified by outrunJ | Apr 23, 2022' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>Apr 23, 2022</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/outrunJ/hugo-blog/tree/master/content/content/docs/architect/strategy/big_data/_index.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#基础">基础</a></li>
    <li><a href="#运维">运维</a>
      <ul>
        <li><a href="#ambari">Ambari</a></li>
        <li><a href="#flume">Flume</a></li>
        <li><a href="#ganglia">Ganglia</a></li>
        <li><a href="#hue">HUE</a></li>
      </ul>
    </li>
    <li><a href="#存储">存储</a>
      <ul>
        <li><a href="#hdfs">HDFS</a></li>
        <li><a href="#hbase">HBase</a></li>
        <li><a href="#hive">Hive</a></li>
        <li><a href="#clickhouse">ClickHouse</a></li>
      </ul>
    </li>
    <li><a href="#采集">采集</a>
      <ul>
        <li><a href="#flume-1">Flume</a></li>
        <li><a href="#sqoop">Sqoop</a></li>
        <li><a href="#oozie">OoZie</a></li>
        <li><a href="#azkaban">Azkaban</a></li>
      </ul>
    </li>
    <li><a href="#处理">处理</a>
      <ul>
        <li><a href="#离线计算批处理">离线计算(批处理)</a>
          <ul>
            <li><a href="#mapreduce">MapReduce</a></li>
          </ul>
        </li>
        <li><a href="#pig">Pig</a></li>
        <li><a href="#mahout">Mahout</a>
          <ul>
            <li><a href="#tez">Tez</a></li>
          </ul>
        </li>
        <li><a href="#流式计算">流式计算</a>
          <ul>
            <li><a href="#impala">Impala</a></li>
            <li><a href="#s4">S4</a></li>
            <li><a href="#storm">Storm</a></li>
            <li><a href="#spark">Spark</a></li>
            <li><a href="#flink">Flink</a></li>
            <li><a href="#kafka-stream">Kafka Stream</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#数据管理">数据管理</a>
      <ul>
        <li><a href="#yarn">Yarn</a></li>
        <li><a href="#mesos">Mesos</a></li>
        <li><a href="#tachyon">Tachyon</a></li>
      </ul>
    </li>
    <li><a href="#上层分析展示">上层(分析、展示)</a>
      <ul>
        <li><a href="#mllib">Mllib</a></li>
        <li><a href="#giraph">Giraph</a></li>
        <li><a href="#graphx">GraphX</a></li>
        <li><a href="#superset">Superset</a></li>
        <li><a href="#metabase">Metabase</a></li>
        <li><a href="#redash">Redash</a></li>
        <li><a href="#birt">BIRT</a></li>
        <li><a href="#kylin">Kylin</a></li>
        <li><a href="#davinci">Davinci</a></li>
        <li><a href="#dbus-allinone">DBus-allinone</a></li>
        <li><a href="#hawq">HAWQ</a></li>
        <li><a href="#phoenix">phoenix</a></li>
        <li><a href="#shark">Shark</a></li>
        <li><a href="#presto">Presto</a></li>
        <li><a href="#drill">Drill</a></li>
        <li><a href="#dremel">Dremel</a></li>
        <li><a href="#kylin-1">Kylin</a></li>
        <li><a href="#gridgain">GridGain</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












