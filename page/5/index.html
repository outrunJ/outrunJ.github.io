<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>outrunJ笔记</title>
  <meta property="og:title" content="outrunJ笔记" />
  <meta name="twitter:title" content="outrunJ笔记" />
  <meta name="author" content="outrunJ"/>
  <meta property="og:site_name" content="outrunJ笔记" />
  <meta property="og:url" content="http://shenwenqing.com/" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.49-DEV" />
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="outrunJ笔记" />
  <link href="/index.xml" rel="feed" type="application/rss+xml" title="outrunJ笔记" />
  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />
  <script src="/js/jquery-3.3.1.min.js"></script>
  <script defer src="/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">outrunJ笔记</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-categories"><a href="/categories/" title="Categories">Categories</a></li>
      <li class="site-navi-item-tags"><a href="/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-archives"><a href="/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <section class="list home-list">
      <article class="article">
        <a href="/series/architecture/protobuf/" class="article-titles">
          <h2 class="article-title">Protobuf</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          

<h1 id="命令">命令</h1>

<pre><code>    protoc -I. -I-I$GOPATH/src  --go_out=plugins=grpc:. *
                    # -I import目录
    protoc --grpc-gateway_out=.
</code></pre>

<h1 id="插件">插件</h1>

<pre><code>安装
        # go build 出protoc-gen-go后，放入go/bin下
protoc-gen-go
        # 编译proto文件
protoc-gen-grpc-gateway
        # http服务
</code></pre>

        </div>
        <div class="article-readmore"><a href="/series/architecture/protobuf/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/hexo/" class="article-titles">
          <h2 class="article-title">Hexo</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          

<h1 id="介绍">介绍</h1>

<pre><code>    简单轻量，基于node的静态博客框架
    可以部署在自己node服务器上，也可以部署在github上
</code></pre>

<h1 id="目录结构">目录结构</h1>

<pre><code>    scaffolds                                        # 脚手架
    scripts                                            # 写文件的js, 扩展hexo功能
    source                                            # 存放博客正文内容 
            _drafts                                    # 草稿箱
            _posts                                        # 文件箱
    themes                                            # 皮肤
    _config.yml                                        # 全局配置文件
    db.json                                            # 静态常量
</code></pre>

<h1 id="使用">使用</h1>

<pre><code>    npm install -g hexo
    hexo version
    hexo init nodejs-hexo
    cd nodejs-hexo &amp;&amp; hexo server
    hexo new 新博客                            # 产生 source/_posts/新博客.md
    hexo server                                        # 启动server
    hexo generate                                    # 静态化处理
    github中创建一个项目nodejs-hexo, 在_config.yml中找到deploy部分，设置github项目地址
    hexo deploy
            # 部署以后，分支是gh-pages, 这是github为web项目特别设置的分支
    上github，点settings找到github pages, 找到自己发布的站点
    无法访问静态资源
            设置域名
                    申请域名
                    dnspod 中 绑定ip
</code></pre>

        </div>
        <div class="article-readmore"><a href="/series/backend/hexo/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/jekyll/" class="article-titles">
          <h2 class="article-title">Jekyll</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          介绍  ruby静态站点生成器，根据网页源码生成静态文档文件 提供模板、变量、插件等功能 生成的站点可以直接发布到github上  使用  curl http://curl.haxx.se/ca/cacert.pem -o cacert.pem # 移动到ruby安装目录 安装devkit gem install jekyll git clone https://github.com/plusjade/jekyll-bootstrap.git jekyll # 下载jekyll-bootstrap模版 cd jekyll &amp;&amp; jekyll serve rake post title = 'Hello' # 生成文章 ## 编辑_posts下面生成的文章 修改convertible.rb文件编码为utf-8 jekyll serve 发布到github github上创建新仓库 git remote set-url origin git@新仓库 git add . git commit -m 'new' git push origin master git branch gh-pages # 新建一个分支，用于发布项目 git checkout gh-pages 修改_config.yml production_url: http://outrun.
        </div>
        <div class="article-readmore"><a href="/series/backend/jekyll/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/cxf/" class="article-titles">
          <h2 class="article-title">Cxf</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          常识  自己内部整合spring(但是不耦合)  支持的协议  soap1.1/1.2 post/http restful http  使用  导入cxf包 方法1 # 不支持注解 String address=&quot;http://localhost:8888/hello&quot;; ServerFactoryBean factoryBean=new ServerFactoryBean(); factoryBean.setAddress(address); factoryBean.setServiceBean(new MyWS()); factoryBean.create(); 方法2 # 支持注解,wsdl文件中类型不再单独schema文件 ServerFactoryBean factoryBean = new JaxWsServerFactoryBean # java and xml web service 日志 # 记录握手信息(访问wsdl文件) ## 看日志记录得到 soap serverFactoryBean.getInInterceptors().add(new LoggingInInterceptor()); serverFactoryBean.getOutInterceptors().add(new LoggingOutInterceptor());  整合spring  o-&gt; cxf2.4.4.jar/schemas/jaxws.xsd中找到命名空间&quot;http://cxf.apache.org/jaxws&quot; o-&gt; 配置applicationContext.xml，加入cxf的命名空间http://cxf.apache.org/jaxws,schema地址为http://cxf.apache.org/schemas/jaxws.xsd。 并且在eclipse中配置schema约束文件的路径 # 该xsd约束文件的url地址用的是包地址,不规范 o-&gt; applicationContext.xml中配置 &lt;bean id=&quot;studentService&quot; class=&quot;test.spring.StudentServiceImpl&quot;/&gt; # 用于：自身调用，被spring引用 &lt;jaxws:server serviceClass=&quot;test.spring.StudentService&quot; address=&quot;/student&quot;&gt; # address配置服务的名称即可(web.
        </div>
        <div class="article-readmore"><a href="/series/backend/cxf/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/dwr/" class="article-titles">
          <h2 class="article-title">Dwr</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          介绍  java函数通过ajax映射到前端js调用  使用 ajax框架 1.导入jar包 dwr.jar 2.web-inf/下的配置文件 web.xml文件 &lt;servlet&gt; &lt;servlet-name&gt;dwr-invoker&lt;/servlet-name&gt; &lt;servlet-class&gt;org.directwebremoting.servlet.DwrServlet&lt;/servlet-class&gt; # 固定写法 &lt;init-param&gt; &lt;param-name&gt;debug&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;scriptCompressed&lt;/param-name&gt; # 允许在javascript中执行 &lt;param-value&gt;false&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; # web工程启动时加载 &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;dwr-invoker&lt;/servlet-name&gt; &lt;url-pattern&gt;/dwr/*&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; dwr.xml文件 &lt;dwr&gt; &lt;allow&gt; &lt;create creator=&quot;new&quot; javascript=&quot;DWRUserAccess&quot;&gt; # 生成js文件的名（页面中引用） &lt;param name=&quot;class&quot; value=&quot;outrun.dwr.DWRUserAccess&quot; /&gt; # 曝露的类 &lt;/create&gt; &lt;convert converter=&quot;bean&quot; match=&quot;outrun.dwr.User&quot; /&gt; # 注册实体类，可以在js中进行实例化 &lt;/allow&gt; &lt;/dwr&gt; 3.写outrun.dwr.DWRUserAccess中的方法 4.页面调用 test.html &lt;script src=&quot;/outrun/dwr/engine.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/outrun/dwr/util.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/outrun/dwr/interface/DWRUserAccess.js&quot;&gt;&lt;/script&gt; &lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt; DWRUserAccess.方法(参数,执行完运行的js函数) # 参数可以是一个map,如 var userMap = {}; userMap.
        </div>
        <div class="article-readmore"><a href="/series/backend/dwr/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/jbpm/" class="article-titles">
          <h2 class="article-title">Jbpm</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          常识  适用对象：业务逻辑不复杂，业务流程会变化 # s2sh适合业务逻辑复杂，但是业务流程不会变化的项目 jbpm封装hibernate 包含对象 模型 实例（由活动组成，包括活动、箭头等） 任务（需要人办理的活动）  使用 myeclipse添加jbpm xml画图插件 MyEclipse -&gt; MyEclipse Configuration Center -&gt; Software -&gt; Browse Software(add site) -&gt; add from archive file找到jbpm-gpd-site.zip,取名为jbpm4.4 -&gt; Browse Software(Personal Sites -&gt; jbpm4.4下8个选项)右键add to Profile -&gt; 右下角apply changes -&gt; 重启myeclipse -&gt; 新建文件中找到新建jbpm xml文件 画图 test.jpdl.xml文件用jbpm工具打开 打开Properties视图 配置 jbpm.hibernate.cfg.xml # mysql方言要配置InnoDB的方言（因为jbpm建表时对表指定了type=InnoDB约束） 配置hibernate的5个映射文件（导入的jbpm.jar包中有） &lt;mapping resource=&quot;jbpm.repository.hbm.xml&quot; /&gt; &lt;mapping resource=&quot;jbpm.execution.hbm.xml&quot; /&gt; &lt;mapping resource=&quot;jbpm.history.hbm.xml&quot; /&gt; &lt;mapping resource=&quot;jbpm.task.hbm.xml&quot; /&gt; &lt;mapping resource=&quot;jbpm.identity.hbm.xml&quot; /&gt; jbpm.
        </div>
        <div class="article-readmore"><a href="/series/backend/jbpm/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/shiro/" class="article-titles">
          <h2 class="article-title">Shiro</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          功能 Authenticator # SecurityManager继承Authenticator public AuthenticationInfo authenticate(AuthenticationToken authenticationToken) throws AuthenticationException; permission 概念 subject resource permission role 隐式角色 显示角色 配置 shiro.ini [users] zhang=123, role1, role2 # 用户名=密码, 角色1, 角色2 判断角色 o-&gt; subject.hasRole(&quot;admin&quot;); o-&gt; @RequiresRoles(&quot;admin&quot;) @RequiresRoles(value={“admin”, “user”}, logical= Logical.AND) # 表示当前Subject需要角色admin和user。 o-&gt; &lt;shiro:hasRole name=&quot;admin&quot;&gt;&lt;/shiro:hasRole&gt; 权限注解 @RequiresAuthentication # 表示当前Subject已经通过login进行了身份验证；即Subject. isAuthenticated()返回true。 @RequiresUser # 表示当前Subject已经身份验证或者通过记住我登录的。 @RequiresGuest # 表示当前Subject没有身份验证或通过记住我登录过，即是游客身份。 @RequiresPermissions (value={“user:a”, “user:b”}, logical= Logical.OR) # 表示当前Subject需要权限user:a或user:b。 credential 散列 String str = &quot;hello&quot;; String salt = &quot;123&quot;; //内部使用MessageDigest String simpleHash 密码生成工具 //输入明文密码得到密文密码 String encryptPassword(Object plaintextPassword) throws IllegalArgumentException; //匹配用户输入的token的凭证（未加密）与系统提供的凭证（已加密） boolean doCredentialsMatch(AuthenticationToken token, AuthenticationInfo info); filter NameableFilter ＃根据名字找到相应的拦截器实例 OncePerRequestFilter # 控制开启、关闭拦截器实例 ShiroFilter # 安全控制 AdviceFilter # aop preHandle # 前置增强 postHandle # 后置增强 afterCompletion # 后置最终增强(异常也执行，相当于finally的概念) PathMatchingFilter # 匹配请求路径 AccessControlFilter # 允许或拒绝访问，拒绝时如何处理 jsp标签 &lt;%@taglib prefix=&quot;shiro&quot; uri=&quot;http://shiro.
        </div>
        <div class="article-readmore"><a href="/series/backend/shiro/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/mybatis/" class="article-titles">
          <h2 class="article-title">Mybatis</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          使用 1.导入ibatis jar包 2.配置文件 SqlMap.properties # 属性名可以修改 driver=oracle.jdbc.driver.OracleDriver url=jdbc:oracle:thin:@127.0.0.1:1521:orcl username=root password=root SqlMapConfig.xml # 总配置文件 &lt;sqlMapConfig&gt; &lt;properties recource=&quot;SqlMap.properties&quot;/&gt; &lt;transactionManager type=&quot;JDBC&quot;&gt; &lt;dataSource type=&quot;SIMPLE&quot;&gt; &lt;property value=&quot;${driver}&quot; name=&quot;JDBC.Driver&quot;/&gt; &lt;property value=&quot;${url}&quot; name=&quot;JDBC.ConnectionURL&quot;/&gt; &lt;property value=&quot;${username}&quot; name=&quot;JDBC.Username&quot;/&gt; &lt;property value=&quot;${password}&quot; name=&quot;JDBC.Password&quot;/&gt; &lt;sqlMap resource=&quot;Student.xml&quot;/&gt; Student.xml # 映射xml文件 &lt;sqlMap&gt; &lt;typeAlias alias=&quot;Student&quot; type=&quot;com.Student&quot;/&gt; &lt;select id=&quot;selectAllStudent&quot; resultClass=&quot;Student&quot;&gt; select * from Student 辅助类Student.java # 要求有无参构造方法 private sid = 0; private String name = null; private String major = null; private Date birth = null; private float score = 0; 3.
        </div>
        <div class="article-readmore"><a href="/series/backend/mybatis/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/struts2/" class="article-titles">
          <h2 class="article-title">Struts2</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          介绍 就是一个利用filter拦截所有请求，利用反射转发请求与响应数据的过滤器。它通过配置文件来设置请求地址与处理类之间的数据流转 struts2中处理请求的类（Action类）是非单例的，所以效率比较低  思想 Action类中的无侵入设计（新技术中不出现旧技术）：map代替了作用域 ActionContext actionContext = actionContext.getContext() actionContext.getApplication() actionContext.getSession() 好处 map是java中的api，不出现旧技术 测试方便（ servlet不能测试，只能发布测试） # 注意：Action类中用到作用域map的方法也不能测试  结构 apps: 例子程序 docs:帮助文件 lib:程序包 src:源码  使用 要求 jdk5 jsp2 servlet api2.4 1.导入核心的8个包 struts2-core-2.3.1.1.jar # struts的过滤器 xwork-core-2.3.1.1.jar # 验证工具 freemarker-2.3.18.jar # 标签 javassist-3.11.0.GA.jar # 动态代理 commons-fileupload-1.2.2.jar commons-io-2.0.1.jar # 文件处理 commons-lang-2.5.jar # 基础包 ognl-3.0.3.jar # 表达式语言 2.web.xml文件中配置过滤器 &lt;filter&gt; &lt;filter-name&gt;struts&lt;/filter-name&gt; &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;struts&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; 3.写jsp页面，get或post路径为struts2的名称空间、扩展名，被配置的struts2过滤器处理 3.写Action类（继承ActionSupport类） 4.配置src/struts.xml文件与src/struts.properties文件，映射类、方法等到请求路径，映射返回字符串到任何方式  核心包：8个 struts2-core-2.
        </div>
        <div class="article-readmore"><a href="/series/backend/struts2/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/backend/spring/" class="article-titles">
          <h2 class="article-title">Spring</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          下载  spring现在maven或gradle发布 官方引用方式 http://projects.spring.io/spring-framework/ maven发布地址 http://maven.springframework.org/release/org/springframework/spring/  特点 spring 是轻量级的，模块形式，无侵入或少侵入设计的（6个模块） dao orm aop jee web core ioc 动态代理 机制 bean或注解声明的没有接口的类：CGlib生成动态代理 有接口的类:Proxy生成代理，但是生成的类是接口类型 # cglib项目并入到spring项目中来了 ##　Proxy生成动态代理要求被代理的类必须有接口 结论 进行了事务包装（动态代理过的）有接口的类，注入（service实例）时，只能用接口接收 spring 3.2新特性 基于注解的注入测试类@RunW.. 为什么spring? 解耦 用spring 容器提供服务 单例 aop服务（权限拦截等） 辅助类等  功能  1.javaBean 的创建、关系与设置 2.声明式事务处理 3.定时器，远程调用  术语  pojo: pure old java object ,不实现任何接口 ioc inversion of control 控制反转（spring创建一个类的实例 ，注入到当前类中） di dependence injection 依赖注入  整合 spring boot spring integration  spring boot 用于在maven中快速构建spring项目  使用 1.
        </div>
        <div class="article-readmore"><a href="/series/backend/spring/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
    </section>
    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/4/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/4/">4</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/5/">5</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/6/">6</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/14/">14</a></li>
    
    
    <li class="page-item">
    <a href="/page/6/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/14/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>



<div class="site-footer">
  <div class="copyright">&copy; Copyright 2017 outrunJ</div>
  <ul class="site-footer-items">
    <li class="site-footer-item-rsslink">
      <a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS">
        <i class="fas fa-rss"></i>
      </a>
    </li>
    <li class="site-footer-item-about"><a href="/about/" title="About">About</a></li>
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>
<script src="/js/script.js"></script>
<script src="/js/custom.js"></script>


</body>
</html>
