<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>outrunJ笔记</title>
  <meta property="og:title" content="outrunJ笔记" />
  <meta name="twitter:title" content="outrunJ笔记" />
  <meta name="author" content="outrunJ"/>
  <meta property="og:site_name" content="outrunJ笔记" />
  <meta property="og:url" content="http://shenwenqing.com/" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.49-DEV" />
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="outrunJ笔记" />
  <link href="/index.xml" rel="feed" type="application/rss+xml" title="outrunJ笔记" />
  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />
  <script src="/js/jquery-3.3.1.min.js"></script>
  <script defer src="/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">outrunJ笔记</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-categories"><a href="/categories/" title="Categories">Categories</a></li>
      <li class="site-navi-item-tags"><a href="/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-archives"><a href="/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <section class="list home-list">
      <article class="article">
        <a href="/series/ops/cron/" class="article-titles">
          <h2 class="article-title">Cron</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          介绍  crond服务在systemd中被timer取代  使用 $ service crond start $ service crond stop $ service crond restart $ service crond reload # 重载配置 $ crontab crontest.cron # 添加定时任务。打印的文件在用户根目录下 $ crontab -l # 列出用户目前的crontab $ crontab -u # 设定某个用户的cron服务 $ crontab -r # 删除某个用户的cron服务 $ crontab -e # 编辑某个用户的cron服务 # crontab -u root -l 查看root的设置 /etc/crontab # 系统配置文件 /etc/cron.hourly /etc/cron.daily /etc/cron.weekly /etc/cron.monthly # 每小时、天、周、月执行的脚本 定时格式 M H D m d cmd M: 分钟（0-59）每分钟用*或者 */1表示 H: 小时（0-23） D: 天（1-31） m: 月（1-12） d: 一星期内的天（0~6，0为星期天） cmd: 如 ~/a.
        </div>
        <div class="article-readmore"><a href="/series/ops/cron/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/ops/ssh/" class="article-titles">
          <h2 class="article-title">SSH</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          ssh（secure shell）：特点  1.加密和压缩：http与ftp都是明文传输 2.ssh有很多子协议，实现不同功能：如sftp,scp 3.端口:22  配置  修改ip地址： 有虚拟机时：先设置虚拟机的连接方式是桥接 图形界面直接修改（或重启到root用户的图形界面修改） 命令修改 /etc/network/interfaces auto eth0 iface eth0 inet static address ip地址 netmask 子网掩码 gateway 网关 broadcast 广播地址 dns-nameservers DNS 重启网络服务：/etc/init.d/networking restart， /etc/ssh/sshd_config PasswordAuthentication no # 关闭密码登录 PermitRootLogin no # 关闭root登录  命令  ssh outrun@10.1.1.1 # -p 22 端口 # PubkeyAuthentication=no 不公钥登录  免登录 1&gt; ssh-keygen -t rsa # 一直回车，生成~/.ssh/id_rsa 与 id_rsa.pub两个文件 2&gt; ssh-copy-id -i 192.168.56.11 # 这样就可以免登录访问192.168.56.11了 ## ssh-copy-id -i localhost　免登录自己 或 把A机下的1中生成的id_rsa.
        </div>
        <div class="article-readmore"><a href="/series/ops/ssh/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/nsq/" class="article-titles">
          <h2 class="article-title">Nsq</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          

<h1 id="介绍">介绍</h1>

<pre><code>go
</code></pre>

<h1 id="工具">工具</h1>

<pre><code>admin   # 监控
</code></pre>

        </div>
        <div class="article-readmore"><a href="/series/architecture/nsq/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/kafka/" class="article-titles">
          <h2 class="article-title">Kafka</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          

<h1 id="介绍">介绍</h1>

<pre><code>scala语言编写
</code></pre>

<h1 id="架构">架构</h1>

<pre><code>    push/pull队列架构，适合异构集群
    高吞吐率
    分布式
    支持数据并行到hadoop
</code></pre>

<h1 id="工具">工具</h1>

<pre><code>manager # 监控
</code></pre>

        </div>
        <div class="article-readmore"><a href="/series/architecture/kafka/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/rabbitmq/" class="article-titles">
          <h2 class="article-title">Rabbitmq</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          install  yum install rabbitmq-server  命令  添加用户: rabbitmqctl add_user rainbird password 添加权限: rabbitmqctl set_permissions -p &quot;/&quot; rainbird &quot;.*&quot; &quot;.*&quot; &quot;.*&quot; 删除测试用户: rabbitmqctl delete_user guest  原理 虚拟主机 virtual host: 用户通过虚拟主机进行权限控制(如禁止A组访问B组的交换机) ＃ 默认虚拟主机为&quot;/&quot; 队列 queue: 由生产者(producers)通过程序建立，再通过消费者(consuming)连接取走 消息: 路由键 routing key 交换机 exchange: 负责把消息放入队列 绑定 binding(路由规则): 如指明交换机中具有路由键&quot;X&quot;的消息要到名为&quot;Y&quot;的队列中去 # 如果同一个键对应多个队列，则复制后分别发送 功能 持久化 队列和交换机创建时指定标志durable,指定队列和交换机重启生重建 ＃ 如果绑定了durable的队列和durable的交换机，该绑定自动保留 ＃ non-durable的交换机与durable的队列不能绑定 ＃ 一但创建durable标志，不能修改 消息发布到交换机时，指定标志Delivery Mode=2,这样消息会持久化  使用(原文http://adamlu.net/rabbitmq/tutorial-one-python)  安装python 与插件支持 pip python-pip git python-pika rabbitmq-server start send.
        </div>
        <div class="article-readmore"><a href="/series/architecture/rabbitmq/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/jetty/" class="article-titles">
          <h2 class="article-title">Jetty</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          

<h1 id="介绍">介绍</h1>

<pre><code>    是开源的servlet容器，基于java, 可以给jsp和servlet提供运行环境
    jetty容器可以实例化成一个对象，迅速为一些独立运行(stand-alone)的java应用提供网络和web连接
</code></pre>

        </div>
        <div class="article-readmore"><a href="/series/architecture/jetty/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/tomcat/" class="article-titles">
          <h2 class="article-title">Tomcat</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          介绍  tomcat从7开始默认就是nio的  配置 bin/startup.bat set JAVA_HOME= # 设置tomcat运行jdk context.xml &lt;Loader delegate=&quot;true&quot;/&gt; # true表示使用java加载器的代理模式 ## false代表永远先在Web应用程序中寻找 web.xml Content-Type: text/x-zim-wiki Wiki-Format: zim 0.4 Creation-Date: 2013-08-04T19:40:08+08:00 ====== web.xml文件 ====== Created Sunday 04 August 2013 &lt;servlet&gt; &lt;servlet-name&gt; &lt;servlet-class&gt; &lt;load-on-startup&gt;1 &lt;init-param&gt; &lt;param-name&gt; &lt;param-value&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt; &lt;url-pattern&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt; &lt;filter&gt; &lt;filter-name&gt; &lt;filter-class&gt; &lt;init-param&gt; &lt;filter-mapping&gt; &lt;filter-name&gt; &lt;url-pattern&gt; &lt;mime-mapping&gt; &lt;extension&gt;bmp &lt;mime-type&gt;image/bmp &lt;error-page&gt; &lt;exception-type&gt;异常类的完全限定名 /&lt;error-code&gt;错误码 &lt;location&gt;以“/”开头的错误处理页面路径  启动顺序 web.xml中配置的启动顺序 监听器 过滤器 servlet load-on-startup属性值越小越先启动 tomcat的加载过程： # 分析启动日志得到 启动http协议 启动catalina 启动servlet引擎 加载xml配置文件 初始化日志配置 初始化ContextListener 初始化SessionListener 部署web项目 spring监听器，加载xml配置(开始spring自己的日志记录) 实例化bean 初始化c3p0连接池的记录显示 初始化LocalSessionFactoryBean的记录显示 application监听器(监听器按配置顺序启动) struts过滤器，加载xml配置(开始struts自己的日志记录) struts-default.
        </div>
        <div class="article-readmore"><a href="/series/architecture/tomcat/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/netty/" class="article-titles">
          <h2 class="article-title">Netty</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          介绍  JBOSS提供，由Trustin Lee开发，比mina晚 java开源框架  原理  基于socket的数据流处理 # socket数据流不是a queue of packets , 而是a queue of bytes, 所以分次传输的数据会成为a bunch of bytes  例子 Handler ChannelHandler ChannelOutboundHandler ChannelOutboundHandlerAdapter # 可作Encoder MessageToByteEncoder ChannelInboundHandler # 提供可重写的事件 ChannelInboundHandlerAdapter ByteToMessageDecoder # easy to deal with fragmentation issue 事件 decode(ctx, in, out) # 内部处理过数据，堆积到了buffer(in) ## out中add了数据, 表示decode成功，则执行后抛弃in中数据 # decode会被循环调用直到有一次out中没有add东西 ReplayingDecoder 事件 channelRead() # 从client接收到数据时调用，数据的类型是ByteBuf ## ByteBuf是 reference-counted object ## 必须用ReferenceCountUtil.release(msg)或((ByteBuf) msg).release()来明确释放 exceptionCaught() # 当抛出Throwable对象时调用 channelActive() # as soon as a connection is established 方法 handlerAdded() handlerRemoved() ByteBuf 方法 buf.
        </div>
        <div class="article-readmore"><a href="/series/architecture/netty/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/nginx/" class="article-titles">
          <h2 class="article-title">Nginx</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          结构  一个主进程(root权限运行)和多个工作进程(普通权限运行)  模块  handler filter upstream load-balance  功能  http 可以保持session， 相同的ip分配到同一个服务器上 缓存静态页面到内存，建立索引与自动索引 反向代理 负载均衡 模块化 过滤器 gzipping, byte ranges, chunked responses, SSI-filter 支持SSL与TLS SNI imap/pop3代理  命令 nginx -c /etc/nginx/nginx.conf nginx -s quit nginx -s stop nginx -s reload # 重载设置 ## service nginx reload nginx -v # 查看版本 ## -V nginx -t [-c nginx.conf] # 检查配置文件是否正确 nginx -h # 查看帮助 ## -? pkill -9 nginx kill -HUP `nginx.
        </div>
        <div class="article-readmore"><a href="/series/architecture/nginx/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
      <article class="article">
        <a href="/series/architecture/squid/" class="article-titles">
          <h2 class="article-title">Squid</h2>
          
        </a>
        <ul class="article-meta">
          <li class="article-meta-date"><time>October 11, 2018</time></li>
        </ul>
        <div class="article-content">
          配置文件  /etc/squid/squid.conf  代理类型  普通代理 透明代理 反向代理  缓存  动态资源 静态资源  参考资料  squid 透明代理详解  配置 # squid.conf http_port 3128 # squid服务端口 icp_port 3130 # udp端口,用来接收和发送ICP消息 cache_dir ufs /var/spool/squid # 缓存目录, 写入方式有aufs与ufs两种,aufs使用大量线程异步进行磁盘i/o操作 cache_access_log /var/log/squid/access.log cache_log /var/log/squid/cache.log cache_store_log /var/log/squid/store.log pid_filename /var/run/squid.pid # 日志文件位置 #auth_param basic children 5 #auth_param basic realm Squid proxy-caching web server #auth_param basic credentialsttl 2 hours # 关闭认证，认证一般不需要 cache_effective_user squid cache_effective_group squid cache_mgr youraccount@your.
        </div>
        <div class="article-readmore"><a href="/series/architecture/squid/">Read more...</a></div>
        <div class="article-floatclear"></div>
      </article>
    </section>
    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/2/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/4/">4</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/14/">14</a></li>
    
    
    <li class="page-item">
    <a href="/page/4/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/14/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>



<div class="site-footer">
  <div class="copyright">&copy; Copyright 2017 outrunJ</div>
  <ul class="site-footer-items">
    <li class="site-footer-item-rsslink">
      <a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS">
        <i class="fas fa-rss"></i>
      </a>
    </li>
    <li class="site-footer-item-about"><a href="/about/" title="About">About</a></li>
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>
<script src="/js/script.js"></script>
<script src="/js/custom.js"></script>


</body>
</html>
